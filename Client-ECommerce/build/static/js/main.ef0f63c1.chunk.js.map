{"version":3,"sources":["responsive.js","requestMethods.js","pages/MomoResult.jsx","components/Newsletter.jsx","pages/Product.jsx","data.js","components/CategoryItem.jsx","components/Categories.jsx","components/Product.jsx","components/Products.jsx","components/Slider.jsx","pages/Home.jsx","pages/ProductList.jsx","components/DeliveryDetail.jsx","components/SelectPayment.jsx","pages/Cart.jsx","redux/apiCalls.js","components/LoginGoogle.jsx","pages/Login.jsx","pages/Register.jsx","pages/Success.jsx","components/OrderList.jsx","components/UserProfile.jsx","pages/Account.jsx","components/OrderDetail.jsx","pages/AccountOrder.jsx","App.jsx","redux/store.js","index.js","redux/userRedux.js","components/Announcement.jsx","components/Notification.jsx","components/GoToTop.jsx","components/Footer.jsx","components/Music.jsx","components/Navbar.jsx","redux/cartRedux.js"],"names":["mobile","props","css","BASE_URL","user","JSON","parse","localStorage","getItem","currentUser","TOKEN","accessToken","publicRequest","axios","create","baseURL","userRequest","headers","token","Momo","useState","resultMessage","setResultMessage","useSearchParams","searchParams","dispatch","useDispatch","cart","useSelector","state","amount","setAmount","orderId","setOrderId","isMailSended","setIsMailSended","crypto","require","navigate","useNavigate","params","sort","forEach","value","key","parent","substring","length","signature","createHmac","process","update","digest","useEffect","get","address","Buffer","from","toString","createOrder","a","total","post","_id","userId","products","map","item","productId","quantity","res","userMail","email","mailText","name","title","price","emailRes","data","removeCart","window","history","replaceState","timeout","setTimeout","clearTimeout","console","dir","style","height","display","flexDirection","alignItems","justifyContent","background","backgroundSize","to","padding","marginTop","Container","styled","div","Title","h1","Description","textAlign","InputContainer","width","Button","button","Newsletter","hasError","setHasError","notifyMes","setNotifyMes","notifyType","setNotifyType","notifyTitle","setNotifyTitle","handleMail","mailInput","document","querySelector","RegExp","test","e","focus","Notification","message","type","duration","TextField","required","id","label","variant","color","error","helperText","onClick","Send","Wrapper","ImgContainer","maxWidth","margin","Arrow","direction","Image","img","maxHeight","ImgLen","ImgZoomed","imgZoomMarginLeft","distanceImgToTop","InfoContainer","Desc","p","Price","span","OptionContainer","AddContainer","AmountContainer","Amount","Product","useLocation","pathname","split","product","setProduct","setQuantity","setImgZoomMarginLeft","setDistanceToTop","innerWidth","browserWidth","setBrowserWidth","getElementsByClassName","imgState","setImgState","imgLensState","setImgLensState","getElementById","imgZoomedState","setImgZoomedState","imgIndex","setImgIndex","handleQuantity","zoomOut","lens","zoomIn","result","cx","cy","pos","x","y","preventDefault","src","offsetWidth","offsetHeight","backgroundImage","event","getBoundingClientRect","pageX","left","pageY","top","pageXOffset","pageYOffset","getCursorPos","backgroundPosition","scrollTo","behavior","interval","setInterval","clearInterval","interval2","imgTag","imgContainer","carouselArrow","naturalHeight","naturalWidth","parentNode","realImgHeight","getProduct","Navbar","category","Announcement","next","now","prev","changeOnFirstRender","onChange","changeImg","index","autoPlay","fullHeightHover","animation","swipe","IndicatorIcon","alt","opacity","objectFit","indicatorIconButtonProps","activeIndicatorIconButtonProps","indicatorContainerProps","navButtonsProps","backgroundColor","transition","transform","NavButton","className","ArrowRightOutlined","ArrowLeftOutlined","position","onMouseMove","onMouseOut","desc","Remove","Add","addProduct","Footer","sliderItems","bg","categories","Info","CategoryItem","Categories","Icons","page","minWidth","Circle","Icon","Span","currentPage","location","href","ShoppingCartOutlined","SearchOutlined","FavoriteBorderOutlined","PaginationContainer","Products","filters","setProducts","setPage","rowPerPage","totalPage","setTotalPage","Math","ceil","getProducts","slice","Pagination","count","slideIndex","Slide","flex","InforContainer","fontSize","Slider","setSlideIndex","handleClick","Home","FilterContainer","Filter","FilterText","marginRight","Select","select","Option","option","youtubeVideos","ProductList","categoryPath","selectRef","useRef","setFilters","pathName","pushState","options","current","i","innerText","selectedIndex","handleFilters","target","frameBorder","muted","loop","allow","allowFullScreen","right","bottom","minHeight","zIndex","ref","defaultValue","DeliveryDetail","displayDelivery","setDisplayDelivery","setAddress","errors","setErrors","addressObj","setAddressObj","input","textarea","includes","setAddressCart","CloseRounded","Box","component","sx","m","noValidate","autoComplete","multiline","maxRows","phone","note","nameRegex","addressRegex","phoneRegex","emailRegex","SelectPayment","setStripeToken","clickedPayment","setClickedPayment","payUrl","response","callMomoApi","image","billingAddress","shippingAddress","description","stripeKey","currency","Top","TopButton","TopTexts","TopText","Bottom","ProductDetail","Details","DeleteContainer","DeleteButton","ProductName","ProductId","ProductType","ProductPrice","PriceDetail","ProductQuantityContainer","DeleteButtonMobile","ProductQuantity","ProductAmount","marginBottom","Hr","hr","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","Cart","stripeToken","setMessage","setType","setTitle","checkout","find","element","removeProduct","removeFromCart","confirm","tokenId","stripeData","makeStripeRequest","wordBreak","whiteSpace","DeleteForeverOutlined","login","loginStart","loginSuccess","loginFailure","register","registerStart","registerSuccess","registerFailure","LoginGoogle","isFetching","responseGoogle","googleAuthRes","email_verified","profileObj","username","googleId","password","loginByGoogle","imageUrl","registerRes","reload","reset","disabled","clientId","buttonText","onSuccess","onFailure","cookiePolicy","Form","form","Input","Error","Login","setUsername","setPassword","placeholder","trim","err","textDecoration","cursor","Agreement","Register","setEmail","confirmPassword","setConfirmPassword","suggest","inputType","usernameReg","emailReg","passwordReg","timeout2","Success","billing_details","line1","WidgetLg","orders","setOrders","timeAgo","TimeAgo","list","b","Date","createdAt","getTime","getOrders","status","order","format","updatedAt","addLocale","vi","en","setDefaultLocale","User","isPassVisible","setIsPassVisible","hadFoundedPassword","setHadFoundedPassword","passInput","getPassword","originalPassword","CryptoJS","AES","decrypt","enc","Utf8","borderRadius","referrerPolicy","readOnly","flexWrap","Account","Order","setOrder","columns","field","headerName","renderCell","row","getOrder","prodsTemp","orderProds","push","PermIdentity","CalendarToday","city","country","PhoneAndroid","MailOutline","postal_code","line2","rows","disableSelectionOnClick","getRowId","rowsPerPageOptions","AccountOrder","App","exact","path","persistConfig","version","storage","rootReducer","combineReducers","userReducer","cartReducer","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","loading","userRedux","createSlice","initialState","reducers","action","payload","logout","actions","main","toast","createElement","autoRemoveId","removeChild","onclick","closest","icon","success","info","warning","delay","toFixed","classList","add","innerHTML","appendChild","GoToTop","btnRef","addEventListener","ArrowUpwardRounded","Left","Logo","SocialContainer","SocialIcon","Center","h3","List","ul","ListItem","li","Right","ContactItem","Payment","authorize","Facebook","Instagram","Twitter","Pinterest","Room","Phone","Mail","playlist","Music","track","setTrack","isTrackChanged","setIsTrackChanged","categoryAtUrl","audioTag","floor","random","volume","load","play","controls","onMouseOver","onEnded","indexOf","Language","SearchContainer","marginLeft","SearchLabel","MenuItem","searchResults","setSearchResults","inputRef","centerRef","rightRef","anchorEl","setAnchorEl","open","Boolean","handleClose","disableCenterRight","childNodes","displayCenterRight","handleLogout","search","Stack","spacing","Autocomplete","freeSolo","autoHighlight","getOptionLabel","renderOption","mr","flexShrink","renderInput","onFocus","onBlur","aria-controls","undefined","aria-haspopup","aria-expanded","currentTarget","Menu","onClose","MenuListProps","onLogoutSuccess","Badge","badgeContent","cartSlice","found","splice"],"mappings":"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","file":"static/js/main.ef0f63c1.chunk.js","sourcesContent":["import {css} from 'styled-components'\r\n\r\nexport const mobile = (props) => {\r\n    return css`\r\n        @media only screen and (max-width: 700px){\r\n            ${props};\r\n        }\r\n    `;\r\n};","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://figures-shop.herokuapp.com/api';\r\n// const BASE_URL = \"http://localhost:5000/api/\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"persist:root\"))?.user;\r\nconst currentUser = user && JSON.parse(user)?.currentUser;\r\nconst TOKEN = currentUser?.accessToken;\r\n\r\nexport const publicRequest = axios.create({\r\n    baseURL : BASE_URL,\r\n})\r\n\r\nexport const userRequest = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { token: `Bearer ${TOKEN}` }\r\n})","import { Link, useNavigate, useSearchParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userRequest, publicRequest } from \"../requestMethods\";\r\nimport {useDispatch} from 'react-redux'\r\nimport {removeCart} from '../redux/cartRedux'\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Announcement from '../components/Announcement';\r\n\r\nfunction Momo() {\r\n  const [resultMessage, setResultMessage] = useState('')\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const accessKey = process.env.REACT_APP_MOMO_ACCESS_KEY;\r\n  const secretKey = process.env.REACT_APP_MOMO_SECRET_KEY;\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [amount, setAmount] = useState();\r\n  const [orderId, setOrderId] = useState(null);\r\n  const [isMailSended, setIsMailSended] = useState(false);\r\n  const crypto = require(\"crypto\");\r\n  const navigate = useNavigate()\r\n  \r\n  // get raw signature from query parameters\r\n  let params = '';\r\n  searchParams.sort();\r\n  searchParams.forEach((value, key, parent)=>{\r\n    if(key !== 'signature'){\r\n      params += key+'='+value+'&';\r\n    }\r\n  })\r\n  params = 'accessKey='+accessKey+'&'\r\n    +params.substring(0, params.length -1);\r\n    \r\n  // create our signature\r\n  const signature = crypto\r\n    .createHmac(\"sha256\", secretKey)\r\n    .update(params)\r\n    .digest(\"hex\");\r\n\r\n\r\n  useEffect(()=> {\r\n    // set result message by resultCode\r\n    setResultMessage(\r\n      searchParams.get('resultCode')*1 === 0\r\n        ? 'Thanh toán thành công'\r\n        : 'Thanh toán thất bại'\r\n    )\r\n    //compare our signature and received signature\r\n    if(signature !== searchParams.get('signature')){\r\n      setResultMessage('Thông tin request không hợp lệ')\r\n    } \r\n    \r\n    // decode address\r\n    let address = Buffer.from(\r\n      searchParams.get('extraData'), 'base64'\r\n    ).toString('utf8')\r\n      \r\n    // create order, remove cart after creating order\r\n    const createOrder = async () => {\r\n      try {\r\n        setAmount(cart.total)\r\n        const res = await userRequest.post(\"/orders\", {\r\n          _id: searchParams.get('orderId'),\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total + 20000,\r\n          address: JSON.parse(address),\r\n        });\r\n        \r\n        //send mail to user\r\n        address = JSON.parse(address)\r\n        let userMail = address?.email ? address.email : currentUser?.email;\r\n        \r\n        let mailText = `  \\nHello ${address?.name}\r\nYour order id: ${searchParams.get('orderId')}\\n\r\nBill amount: ${cart.total + 20000}\\n\r\nYour delivery address: ${address?.address}\\n\r\nYour payment method: Momo QR code\\n\r\nProducts that you have purchased: \\n\r\n<table style='border: 1px solid; border-collapse: collapse;'>\r\n<thead>\r\n  <tr>\r\n    <td style='border: 1px solid; border-collapse: collapse;'>Name</td>\r\n    <td style='border: 1px solid; border-collapse: collapse;'>Quantity</td>\r\n    <td style='border: 1px solid; border-collapse: collapse;'>Price</td>\r\n  </tr>\r\n</thead>\r\n<tbody>`\r\n\r\n        for(let item of cart.products) {\r\n          mailText += `<tr>\r\n              <td style='border: 1px solid; border-collapse: collapse;'>${item.title}</td>\r\n              <td style='border: 1px solid; border-collapse: collapse;'>${item.quantity}</td>\r\n              <td style='border: 1px solid; border-collapse: collapse;'>${item.price} &#8363;</td>\r\n            </tr>`\r\n        }\r\n\r\n        mailText = mailText+ '</tbody></table>'\r\n          + 'Your products are preparing and will be delivered as soon as possible'\r\n          +'\\nSincere thanks\\n'\r\n\r\n        const emailRes = publicRequest.post('/mail', {userMail, mailText})\r\n        \r\n        if(res.data?._id) {\r\n          setOrderId(res.data._id);\r\n          dispatch(removeCart())\r\n          \r\n          // delete cart redux state if user reload page\r\n          window.history.replaceState({}, '');\r\n        }\r\n        emailRes.data && setIsMailSended(true)\r\n\r\n        const timeout = setTimeout(()=>{\r\n          navigate('/')\r\n          window.clearTimeout(timeout)\r\n        }, 60000)         \r\n      } catch(err) {\r\n        console.dir(err)\r\n      }\r\n    };\r\n    searchParams.get('resultCode')*1 === 0 \r\n      && cart?.total !== 0 \r\n      && currentUser?._id\r\n      && createOrder();\r\n  }, [searchParams, signature, currentUser, cart, dispatch, navigate])\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: 'linear-gradient('\r\n          +'rgba(255, 255, 255, 0.5), '\r\n          +'rgba(255, 255, 255 ,0.5)'\r\n          +'),'\r\n          +'url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") '\r\n          +'center',\r\n        backgroundSize: 'cover'       \r\n      }}\r\n    >\r\n      <p>{resultMessage}</p>\r\n      <p>{orderId\r\n        ? `Order has been created successfully. Your order number is ${orderId}.\\n`\r\n        : `Successful. Your order is being prepared...\\n`}\r\n      </p>\r\n      <p>\r\n        {isMailSended && `Transaction informations was sended to your email.\\n`}\r\n      </p>\r\n      <p>\r\n        {amount && `Your total amount: ${amount +20000} `}&#8363;\r\n      </p>        \r\n      <Link to=\"/\">\r\n        <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n      </Link>\r\n    </div>\r\n    <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Momo;\r\n","import { Send } from '@material-ui/icons'\r\nimport styled from 'styled-components'\r\nimport {useState} from 'react'\r\nimport { mobile } from '../responsive'\r\nimport TextField from \"@mui/material/TextField\"\r\nimport { publicRequest } from '../requestMethods'\r\nimport Notification from '../components/Notification'\r\n\r\nconst Container = styled.div`\r\n    height: 40vh;\r\n    background-color: #fcf5f5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n`\r\nconst Title = styled.h1`\r\n    font-size: 70px;\r\n    margin-bottom: 20px;\r\n`\r\nconst Description = styled.div`\r\n    fon-size: 24px;\r\n    font-weight: 300;\r\n    margin-bottom: 20px;\r\n    ${mobile({textAlign: 'center'})}\r\n`\r\nconst InputContainer = styled.div`\r\n    width: 40%;\r\n    height: 40px;\r\n    background-color: #fcf5f5;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    ${'' /* border: 1px solid lightgray; */}\r\n    ${mobile({width: '80%'})}\r\n`\r\n// const Input = styled.input`\r\n//     border: none;\r\n//     flex: 8;\r\n//     padding-left: 20px;\r\n// `\r\nconst Button = styled.button`\r\n    margin-left: 10px;\r\n    height: 50px;\r\n    width: 15%;\r\n    border: none;\r\n    border-radius: 5px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        background-color: #00a6a6;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\nconst Newsletter = () => {\r\n    const [hasError, setHasError] = useState(false)\r\n    const [notifyMes, setNotifyMes] = useState('')\r\n    const [notifyType, setNotifyType] = useState('info')\r\n    const [notifyTitle, setNotifyTitle] = useState('')\r\n    \r\n    const handleMail = async () => {\r\n        const mailInput = document.querySelector('#user-mail');\r\n        const emailRegex = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n\r\n        if(!emailRegex.test(mailInput.value)){\r\n            setHasError(true)\r\n            mailInput.focus()\r\n        }else{\r\n            setHasError(false)\r\n            \r\n            try{\r\n                const res = publicRequest.post('/mail', {userMail: mailInput.value})\r\n                if(res){\r\n                    setNotifyMes('We sent a mail to your email, thanks for trusted our service')\r\n                    setNotifyType('success')\r\n                    setNotifyTitle('Success')\r\n                    mailInput.value=''\r\n                }\r\n            } catch(e) {\r\n                console.dir(e)\r\n                setNotifyMes('An error has occurred, sorry for this inconvenience')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Error')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Notification \r\n                title={notifyTitle}\r\n                message={notifyMes}\r\n                type={notifyType}\r\n                duration={5000}\r\n            />  \r\n            <Title>Newsletter</Title>\r\n            <Description>Get timely updates from your favorite products.</Description>\r\n            <InputContainer>\r\n                <TextField\r\n                    required\r\n                    id=\"user-mail\"\r\n                    label=\"Your Mail\"\r\n                    variant=\"filled\"\r\n                    color= {hasError ? 'error' : \"primary\"}\r\n                    error = {hasError}\r\n                    helperText={\r\n                        hasError \r\n                        ? \"Your inputted mail wasn't correct yet. Email example: abc@mail.com\" \r\n                        : ''\r\n                    }\r\n                />\r\n                <Button onClick={handleMail}>\r\n                    <Send/>\r\n                </Button>\r\n            </InputContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Newsletter\r\n","import { Add, Remove } from \"@material-ui/icons\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport { ArrowLeftOutlined, ArrowRightOutlined } from \"@material-ui/icons\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport { addProduct } from \"../redux/cartRedux\";\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport { mobile } from \"../responsive\";\r\n\r\nconst Container = styled.div``;\r\nconst Wrapper = styled.div`\r\n  padding: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${mobile({ padding: \"10px\", flexDirection: \"column\" })}\r\n`;\r\nconst ImgContainer = styled.div`\r\n  height: 100vh;\r\n  max-width: 49%;\r\n  ${'' /* width: 40%; */}\r\n  flex: 1;\r\n  ${'' /* margin-right: 50px; */}\r\n  ${mobile({ maxWidth: '100%', width: '100%', height: '70vh', margin: '30px 0px'})}\r\n`;\r\nconst Arrow = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: ${(props) => props.direction === \"left\" && \"10px\"};\r\n    right: ${(props) => props.direction === \"right\" && \"10px\"};\r\n    margin: auto;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n    z-index: 2;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`;\r\nconst Image = styled.img`\r\n  height: 90vh;\r\n  width: 100%;\r\n  object-fit: contain;\r\n  display: block;\r\n  margin: auto;\r\n  ${'' /* &:hover { transform: scale3d(1.1, 1.1, 1) } */}\r\n  ${mobile({ maxHeight: '70vh', height: \"100%\", width: '100% !important'})}\r\n`;\r\nconst ImgLen = styled.div`\r\n  display: none;\r\n  position: absolute;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  opacity: 0.5;\r\n  width: 200px;\r\n  height: 200px;\r\n  ${mobile({ display: 'none !important' })}\r\n`\r\nconst ImgZoomed = styled.div`\r\n  border: 1px solid #008080;\r\n  border-radius: 10px;\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-repeat: no-repeat;\r\n  margin: auto;\r\n  margin-left: ${(props) => props.imgZoomMarginLeft + 50}px;\r\n  margin-top: ${(props) => props.distanceImgToTop}px;\r\n  object-fit: cover;\r\n  ${mobile({ display: 'none !important' })}\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  flex: 1;\r\n  max-width: 49%;\r\n  padding: 0px 50px;\r\n  ${mobile({ padding: \"10px\", maxWidth: '100%', width: '90%' })}\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst Title = styled.h1`\r\n  font-weight: 200;\r\n`;\r\nconst Desc = styled.p`\r\n  margin: 10px 0px;\r\n`;\r\nconst Price = styled.span`\r\n  font-weight: 100;\r\n  font-size: 40px;\r\n`;\r\n\r\nconst OptionContainer = styled.div`\r\n  width: 100%;\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n`;\r\n// const FilterContainer = styled.div`\r\n//     display: flex;\r\n//     align-items: center;\r\n//     flex: 1;\r\n// `\r\n// const FilterTitle = styled.span`\r\n//     font-size: 20px;\r\n//     font-weight: 200;\r\n// `\r\n// const FilterSelect= styled.select`\r\n//     cursor: pointer;\r\n//     margin-left: 10px;\r\n//     padding: 5px;\r\n// `\r\n// const FilterOption= styled.option`\r\n\r\n// `\r\n\r\nconst AddContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\nconst AmountContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  padding: 15px 5px 15px 0px;\r\n  @media only screen and (max-width: 700px) {\r\n    padding: 15px 0px;\r\n  }\r\n`;\r\nconst Amount = styled.span`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 10px;\r\n  border: 1px solid teal;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0px 5px;\r\n`;\r\nconst Button = styled.button`\r\n  padding: 5px;\r\n  border: 2px solid teal;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    background-color: lightgray;\r\n  }\r\n`;\r\n\r\nconst Product = () => {\r\n  const location = useLocation();\r\n  const id = location.pathname.split(\"/\")[2];\r\n  const [product, setProduct] = useState();\r\n  const [quantity, setQuantity] = useState(1);\r\n  const dispatch = useDispatch();\r\n  const [imgZoomMarginLeft, setImgZoomMarginLeft] = useState(0);\r\n  const [distanceImgToTop, setDistanceToTop] = useState(0);\r\n  // const [imgLeftSide, setImgLeftSide] = useState(0); // if img style width = 100%\r\n  const [browserWidth, setBrowserWidth] = useState(window.innerWidth); //if img style width = 100%\r\n  const [imgState, setImgState] = useState(document.getElementsByClassName(\"img-origin\")[0])\r\n  const [imgLensState, setImgLensState] = useState(document.getElementsByClassName(\"img-len\")[0])\r\n  const [imgZoomedState, setImgZoomedState] = useState(document.getElementById(\"img-zoomed\"))\r\n  const [imgIndex, setImgIndex] = useState(0)\r\n\r\n  const handleQuantity = (type) => {\r\n    if (type === \"asc\") setQuantity(quantity + 1);\r\n    if (type === \"desc\") quantity > 1 && setQuantity(quantity - 1);\r\n  };\r\n\r\n  const addToCart = () => {\r\n    product && dispatch(addProduct({ ...product, quantity }));\r\n  };\r\n\r\n  const changeImg = (now, prev) => {\r\n    zoomOut();\r\n    setImgState(document.getElementsByClassName(\"img-origin\")[now])\r\n    setImgLensState(document.getElementsByClassName(\"img-len\")[now])\r\n    setImgZoomedState(document.getElementsByClassName(\"img-zoomed\")[now])\r\n    setImgIndex(now)\r\n  }  \r\n\r\n  const zoomOut = () => {\r\n    let lens, result;\r\n    imgLensState ? lens = imgLensState : lens = document.getElementsByClassName(\"img-len\")[0];\r\n    imgZoomedState ? result = imgZoomedState : result = document.getElementById(\"img-zoomed\");\r\n    result.style.display = \"none\";\r\n    lens.style.display = 'none';\r\n  }\r\n\r\n  function zoomIn(e) {\r\n    e.preventDefault();\r\n    let img, lens, result, cx, cy;\r\n    imgState?.src ? img = imgState : img = document.getElementsByClassName(\"img-origin\")[0];\r\n    imgLensState ? lens = imgLensState : lens = document.getElementsByClassName(\"img-len\")[0];\r\n    imgZoomedState ? result = imgZoomedState : result = document.getElementById(\"img-zoomed\");\r\n    \r\n    lens.style.display = 'block';\r\n    result.style.display = \"inline-block\";\r\n    \r\n    result.style.width = (lens?.offsetWidth*2)+'px'\r\n    result.style.height = (lens?.offsetHeight*2)+'px'\r\n    \r\n    cx = result?.offsetWidth / lens?.offsetWidth;\r\n    cy = result?.offsetHeight / lens?.offsetHeight;\r\n    \r\n    result.style.backgroundImage = \"url('\" + img?.src + \"')\";\r\n    result.style.backgroundSize = (img?.width * cx) + \"px \" + (img?.height * cy) + \"px\";\r\n    \r\n    let pos, x, y;\r\n    pos = getCursorPos(e);\r\n    x = pos.x - (lens?.offsetWidth / 2);\r\n    y = pos.y - (lens?.offsetHeight / 2);\r\n\r\n    if (x > img?.width - lens?.offsetWidth) {x = img?.width - lens?.offsetWidth;}\r\n    if (x < 0) {x = 0;}\r\n    if (y > img?.height - lens?.offsetHeight) {y = img?.height - lens?.offsetHeight;}\r\n    if (y < 0) {y = 0;}\r\n\r\n    lens.style.left = x + /*imgLeftSide +*/ \"px\";\r\n    lens.style.top = y +\"px\";\r\n    result.style.backgroundPosition = \"-\" + (x * cx) + \"px -\" + (y * cy) + \"px\";\r\n\r\n    function getCursorPos(e) {\r\n        let a, x = 0, y = 0;\r\n        e = e || window.event;\r\n        a = img.getBoundingClientRect();\r\n        x = e.pageX - a.left;\r\n        y = e.pageY - a.top;\r\n        x = x - window.pageXOffset;\r\n        y = y - window.pageYOffset;\r\n        return {x : x, y : y};\r\n    }\r\n  } \r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 90,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    const interval = setInterval(() => {\r\n      if(browserWidth !== window.innerWidth){ \r\n        setBrowserWidth(window.innerWidth);\r\n        window.clearInterval(interval)\r\n      }\r\n    }, 1000)\r\n\r\n    // set img height and width to fit real img size\r\n    const interval2 = setInterval(() => {\r\n      let imgTag = document.getElementsByClassName(\"img-origin\")[imgIndex];\r\n      let imgContainer = document.getElementById('img-container')\r\n      let carouselArrow = document.getElementById('carouselArrow')\r\n      \r\n      if(imgContainer \r\n          && imgTag \r\n          && (imgTag.naturalHeight / imgTag.naturalWidth > 1)\r\n        ){\r\n        // let realImgWidth = imgTag?.naturalWidth / (imgTag?.naturalHeight / imgTag?.offsetHeight)\r\n          \r\n        // setImgLeftSide((imgTag?.offsetWidth - realImgWidth) / 2)\r\n        setImgZoomMarginLeft(carouselArrow.parentNode.parentNode?.offsetWidth)\r\n        setDistanceToTop(window.pageYOffset + imgTag.getBoundingClientRect().top)\r\n\r\n        // imgTag.style.width = realImgWidth+'px';\r\n        window.clearInterval(interval2);\r\n      } \r\n      if(imgContainer \r\n          && imgTag \r\n          && (imgTag.naturalHeight / imgTag.naturalWidth <= 1) \r\n          && carouselArrow\r\n        ) {\r\n        let realImgHeight = imgTag.naturalHeight / (imgTag.naturalWidth / imgTag.offsetWidth)\r\n          \r\n        setImgZoomMarginLeft(carouselArrow.parentNode.parentNode?.offsetWidth)\r\n        setDistanceToTop(window.pageYOffset + imgTag.getBoundingClientRect().top)\r\n\r\n        imgTag.style.height = realImgHeight+'px'\r\n        imgContainer.style.height = (realImgHeight + 120)+'px'\r\n        carouselArrow.parentNode.parentNode.style.height = (realImgHeight + 120)+'px'\r\n        imgTag.parentNode.parentNode.parentNode.parentNode.parentNode.style.height = realImgHeight +'px'\r\n        window.clearInterval(interval2);\r\n      }\r\n    }, 1000)\r\n\r\n    const getProduct = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products/find/\" + id);\r\n        setProduct(res.data);\r\n      } catch (err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    getProduct();\r\n\r\n    return () => { setImgState(document.getElementById(\"img-origin\")) }\r\n  }, [id, imgIndex, browserWidth]);  \r\n\r\n  return (  \r\n    <Container>\r\n      <Navbar category={product?.category}/>\r\n      <Announcement />\r\n      {product && (\r\n      <Wrapper>\r\n        <ImgContainer id='img-container'>\r\n          <Carousel\r\n            next={ (now, prev) => { } }\r\n            prev={ (now, prev) => { } }\r\n            changeOnFirstRender = {false}\r\n            onChange={ (now, prev) => { product?.img && changeImg(now, prev) }}\r\n            index={imgIndex}            \r\n            autoPlay={true}\r\n            fullHeightHover={false}\r\n            interval={10000}\r\n            animation='fade'\r\n            duration={800}\r\n            swipe={true}\r\n            IndicatorIcon={\r\n              product?.img?.map((value, index)=>(\r\n                <img \r\n                  src={product?.img[index]} \r\n                  width='100' \r\n                  height='100' \r\n                  alt='indicator'\r\n                  style={\r\n                    index === imgIndex \r\n                      ? {opacity: '1.0', objectFit: 'cover'}\r\n                      : {opacity: '0.6', objectFit: 'cover'}\r\n                  }\r\n                />\r\n              ))\r\n            }\r\n            indicatorIconButtonProps={{\r\n              style: {\r\n                padding: '0px 10px',    \r\n              }\r\n            }}\r\n            activeIndicatorIconButtonProps={{\r\n              style: {\r\n                opacity: '1.0'\r\n              }\r\n            }} \r\n            indicatorContainerProps={{\r\n              style: {\r\n                marginTop: '20px',\r\n              }\r\n            }}                       \r\n            navButtonsProps={{\r\n              style: {\r\n                margin: 'auto',\r\n                backgroundColor: '#008080',\r\n                opacity: '0.5',\r\n                transition: 'all 0.5s ease',\r\n                '&:hover':{\r\n                    opacity: '1.0',\r\n                    transform: 'scale(1.1)',\r\n                },\r\n              }\r\n            }}    \r\n            NavButton={({onClick, className, style, next, prev}) => {\r\n                return (\r\n                    <Arrow id='carouselArrow' onClick={onClick} className={className} style={style}>\r\n                        {next && <ArrowRightOutlined/>}\r\n                        {prev && <ArrowLeftOutlined/>}\r\n                    </Arrow>\r\n                )\r\n            }}                    \r\n          >\r\n            {product?.img?.map((value, index)=>(\r\n              <div key={index} style={{width: 'fit-content', display: 'block', margin: 'auto', position: 'relative' }}>\r\n              <Image\r\n                className='img-origin'\r\n                onMouseMove={(e) => {zoomIn(e)}}\r\n                src={product?.img[index]} \r\n              />\r\n              <ImgLen\r\n                className='img-len'\r\n                onMouseMove={(e) => {zoomIn(e)}}  \r\n                onMouseOut={zoomOut}\r\n              />\r\n              </div>\r\n            ))}\r\n          </Carousel>\r\n          <ImgZoomed \r\n            id='img-zoomed' \r\n            imgZoomMarginLeft={imgZoomMarginLeft} \r\n            distanceImgToTop={distanceImgToTop}\r\n          />\r\n        </ImgContainer>\r\n        <InfoContainer>\r\n          <Title>{product?.title}</Title>\r\n          <Desc>{product?.desc}</Desc>\r\n          <Price>{product?.price} &#8363;</Price>\r\n\r\n          <OptionContainer>\r\n            {/* <FilterContainer>\r\n                            <FilterTitle>Scale</FilterTitle>\r\n                            <FilterSelect>\r\n                                <FilterOption>1:10</FilterOption>\r\n                                <FilterOption>1:20</FilterOption>\r\n                                <FilterOption>1:30</FilterOption>\r\n                                <FilterOption>1:50</FilterOption>\r\n                            </FilterSelect>\r\n                        </FilterContainer> */}\r\n\r\n            <AddContainer>\r\n              <AmountContainer>\r\n                <Remove onClick={() => handleQuantity(\"desc\")} />\r\n                <Amount>{quantity}</Amount>\r\n                <Add onClick={() => handleQuantity(\"asc\")} />\r\n              </AmountContainer>\r\n              <Button onClick={addToCart}>ADD TO CART</Button>\r\n            </AddContainer>\r\n          </OptionContainer>\r\n        </InfoContainer>\r\n      </Wrapper>\r\n      )}\r\n      {!product && (\r\n        <h2 style={{textAlign: 'center', margin: '50px'}}>Can't find any product with id: {id}</h2>\r\n      )}\r\n      <Newsletter />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","export const sliderItems = [\r\n    {\r\n        id: 1,\r\n        img: \"https://www.nawpic.com/media/2020/marvel-nawpic-2.jpg\",\r\n        title: \"HAPPY NEW YEAR!!!\",\r\n        desc: \"Super Sale 20% on all products.\",\r\n        bg: \"fcf1ed\",\r\n        type: 'Marvel',\r\n    },\r\n    {\r\n        id: 2,\r\n        // img: \"https://r4.wallpaperflare.com/wallpaper/246/490/440/batman-batman-begins-the-dark-knight-the-dark-knight-rises-wallpaper-79a0380de1fa3d6b9677585f909106ed.jpg\",\r\n        img: \"https://wallpaperaccess.com/full/328886.jpg\",\r\n        title: \"SUPER SALE\",\r\n        desc: \"Super Sale 50% on all products.\",\r\n        bg: \"fbf0f4\",\r\n        type: 'DC-Comics',\r\n    },\r\n    {\r\n        id: 3,\r\n        // img: \"https://cdn.wallpapersafari.com/7/67/NiBaT8.jpg\",\r\n        // img: \"https://wallpaperaccess.com/full/780969.jpg\",\r\n        img: \"https://wallpapercave.com/wp/wp2556881.jpg\",\r\n        title: \"HAPPY LUNAR NEW YEAR!!!\",\r\n        desc: \"Super Sale 30% on all products.\",\r\n        bg: \"f5fafd\",\r\n        type: 'Transformers',\r\n    },\r\n];\r\n\r\nexport const categories = [\r\n    {\r\n        id: 1,\r\n        img: \"https://wallpaperaccess.com/full/7146075.png\",\r\n        title: \"Marvel\",\r\n    },\r\n    {\r\n        id: 2,\r\n        img: \"https://comicvine.gamespot.com/a/uploads/scale_small/0/40/5213245-dc_logo_blue_final.jpg\",\r\n        title: \"DC-Comics\",\r\n    },\r\n    {\r\n        id: 3,\r\n        img: \"https://www.nicepng.com/png/detail/65-650934_transformers-autobots-and-decepticons-logo.png\",\r\n        title: \"Transformers\",\r\n    },\r\n];\r\n","import './category-item.css'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    flex: 1;\r\n    margin: 3px;\r\n    height: 70vh;\r\n    position: relative;\r\n`\r\nconst Image = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    ${mobile({height: '25vh'})}\r\n`\r\nconst Info = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Title = styled.h1`\r\n    color: black;\r\n    margin-bottom: 20px;\r\n`\r\nconst Button = styled.button`\r\n    border:none;\r\n    padding: 10px;\r\n    background-color: gray;\r\n    color: white;\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n    transition: all 0.5s ease;\r\n    &:hover {\r\n      transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst CategoryItem = ({item}) => {\r\n    return (\r\n        <Container className=\"container\">\r\n            <Link to={`/products/${item.title}`}>\r\n            <Image src={item.img} className=\"img\"/>\r\n            <Info>\r\n                <Title>{item.title}</Title>\r\n                <Button>SHOP NOW</Button>\r\n            </Info>\r\n            </Link>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CategoryItem\r\n","import styled from 'styled-components'\r\nimport {categories} from '../data'\r\nimport CategoryItem from './CategoryItem'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding: 20px;\r\n    justify-content: space-between;\r\n    ${mobile({ padding: '0px', flexDirection: 'column'})}\r\n`\r\n\r\nconst Categories = () => {\r\n    return (\r\n        <Container>\r\n            {categories.map((item) => (\r\n                <CategoryItem key={item.id} item={item}/>\r\n            ))}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import { FavoriteBorderOutlined, SearchOutlined, ShoppingCartOutlined } from '@material-ui/icons'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { addProduct } from '../redux/cartRedux'\r\nimport { mobile } from '../responsive'\r\n\r\nconst Icons = styled.div`\r\n    opacity: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    background-color: rgba(0,0,0,0.1);\r\n    z-index: 3;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.5s ease;\r\n    cursor: pointer;\r\n`\r\n\r\nconst Container = styled.div`\r\n    flex: 1 ${(props) => props.page && '26%'};\r\n    margin: 5px;\r\n    min-width: 300px;\r\n    width: 23vw;\r\n    max-width: 26vw;\r\n    min-height: 300px;\r\n    height: 23vw;\r\n    display: flex;\r\n    ${'' /* align-items: center; */}\r\n    justify-content: center;\r\n    background-color: #f5fbfd;\r\n    position: relative;\r\n    ${mobile({ width: '100%', minWidth: '40vh', height: '40vh' })}\r\n\r\n    &:hover ${Icons}{\r\n        opacity: 1\r\n    }\r\n`\r\n\r\nconst Circle = styled.div`\r\n    width: 200px;\r\n    height: 200px;\r\n    border-radius: 50%;\r\n    background-color: white;\r\n    position: absolute;\r\n`\r\n\r\nconst Image = styled.img`\r\n    height: 80%;\r\n    width: 95%;\r\n    object-fit: cover;\r\n    z-index: 2;\r\n`\r\n\r\nconst Icon= styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    background-color: white;\r\n    display:flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 10px;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        background-color: #e9f5f5;\r\n        transform: scale(1.1);\r\n    };\r\n`\r\n\r\nconst Info = styled.div`\r\n    height: 19%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin: auto;\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n`\r\nconst Span = styled.span``\r\n\r\nconst Product = ({item}) => {\r\n    const dispatch = useDispatch();\r\n    const currentPage = window.location.href.split('/')[3];\r\n    \r\n    const addToCart = ()=>{\r\n        const quantity = 1;\r\n        dispatch(addProduct({...item, quantity}))\r\n    }\r\n\r\n    return (\r\n        <Container page={currentPage}>\r\n            <Circle/>\r\n            <Image src={item.img[0]}/>\r\n            <Icons>\r\n                <Icon onClick={addToCart}>\r\n                    <ShoppingCartOutlined/>\r\n                </Icon>\r\n                <Icon>\r\n                    <Link to={`/product/${item._id}`}>\r\n                    <SearchOutlined/>\r\n                    </Link>\r\n                </Icon>\r\n                <Icon>\r\n                    <FavoriteBorderOutlined/>\r\n                </Icon>\r\n            </Icons>\r\n            <Info>\r\n                <Span><b>{item.title}</b></Span>\r\n                <Span>{item.price} &#8363;</Span>\r\n            </Info>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Product from './Product'\r\nimport {publicRequest} from '../requestMethods'\r\n\r\nconst Container = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\nconst PaginationContainer = styled.div`\r\n    margin-top: 15px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100vw;\r\n`\r\n\r\nconst Products = ({filters}) => {\r\n    const [products, setProducts] = useState([]);\r\n    const category = filters?.category;\r\n    const sort = filters?.sort;\r\n    const [page, setPage] = useState(1);\r\n    const currentPage = window.location.href.split('/')[3];\r\n    const rowPerPage =  currentPage ? 6 : 8;\r\n    const [totalPage, setTotalPage] = useState(1);\r\n\r\n    useEffect(()=> {\r\n        const getProducts = async () => {\r\n            try{\r\n                const res = (category && sort)\r\n                    ? await publicRequest.get(\r\n                        `/products?category=${category}&sort=${sort}`\r\n                    )\r\n                    : await publicRequest.get(\r\n                        '/products'\r\n                    )\r\n                setProducts(res.data)\r\n                setTotalPage(Math.ceil(res.data.length / rowPerPage))\r\n            } catch(err){\r\n                console.dir(err)\r\n            }\r\n        }\r\n        getProducts();\r\n    }, [category, sort, rowPerPage])\r\n\r\n    return (\r\n        <Container>\r\n            {products.slice((page-1)*rowPerPage, page * rowPerPage).map((item) => (\r\n                <Product key={item._id} item={item}/>\r\n            ))}\r\n            <PaginationContainer>\r\n                <Pagination\r\n                    page={page}\r\n                    count={totalPage}\r\n                    onChange={(e, value) => setPage(value)}\r\n                />\r\n            </PaginationContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import { ArrowLeftOutlined, ArrowRightOutlined } from \"@material-ui/icons\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {sliderItems} from '../data'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: flex;\r\n    position: relative;\r\n    overflow: hidden;\r\n    ${mobile({height: '65vh'})}\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: ${(props) => props.direction === \"left\" && \"10px\"};\r\n    right: ${(props) => props.direction === \"right\" && \"10px\"};\r\n    margin: auto;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n    z-index: 2;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n    height: 100%;\r\n    display: flex;\r\n    transition: all 1.0s ease;\r\n    transform: translateX(${props => props.slideIndex * -100}vw);\r\n`;\r\n\r\nconst Slide = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #${props => props.bg};\r\n    ${mobile({flexDirection: 'column', height: '100%'})}\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n    height: 100%;\r\n    flex: 3;\r\n    ${mobile({height: 'auto', flex: '1'})}\r\n`;\r\n\r\nconst Image = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    ${mobile({height: 'auto', objectFit: 'cover'})}\r\n`;\r\n\r\nconst InforContainer = styled.div`\r\n    flex: 1;\r\n    padding: 50px;\r\n    ${mobile({padding: '20px', display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column'})}\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 70px;\r\n    ${mobile({fontSize: '40px', textAlign: 'center'})}\r\n`\r\nconst Desc = styled.p`\r\n    margin: 50px 0px;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    letter-spacing: 2px;\r\n    ${mobile({margin: '30px 0px'})}\r\n`\r\nconst Button = styled.button`\r\n    padding: 10px;\r\n    font-size: 20px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst Slider = () => {\r\n    const [slideIndex, setSlideIndex] = useState(0)\r\n\r\n    const handleClick = (direction) => {\r\n        if(direction === 'left'){\r\n            setSlideIndex(slideIndex > 0 ? slideIndex-1 : 2)\r\n        } else {\r\n            setSlideIndex(slideIndex < 2 ? slideIndex+1 : 0)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const interval = window.setInterval(()=>{\r\n            setSlideIndex(slideIndex < 2 ? slideIndex+1 : 0)\r\n        }, 5000)\r\n\r\n        return () => window.clearInterval(interval)\r\n    }, [slideIndex])\r\n\r\n    return (\r\n        <Container>\r\n            <Arrow direction=\"left\" onClick={() => handleClick(\"left\")}>\r\n                <ArrowLeftOutlined />\r\n            </Arrow>\r\n            <Wrapper slideIndex={slideIndex}>\r\n                {sliderItems.map(item => (\r\n                <Slide bg={item.bg} key={item.id}>\r\n                    <ImgContainer>\r\n                        <Image src={item.img} />\r\n                    </ImgContainer>\r\n                    <InforContainer>\r\n                        <Title>{item.title}</Title>\r\n                        <Desc>{item.desc}</Desc>\r\n                        <Link to={`/products/${item.type}`}>\r\n                            <Button>SHOW NOW</Button>\r\n                        </Link>\r\n                    </InforContainer>\r\n                </Slide>\r\n                ))}\r\n            </Wrapper>\r\n            <Arrow direction=\"right\" onClick={() => handleClick(\"right\")}>\r\n                <ArrowRightOutlined />\r\n            </Arrow>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Slider;\r\n","import { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Announcement from '../components/Announcement'\r\nimport Categories from '../components/Categories'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport Newsletter from '../components/Newsletter'\r\nimport Products from '../components/Products'\r\nimport Slider from '../components/Slider'\r\n\r\nconst Container = styled.div`\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.8), \r\n    rgba(255, 255, 255 ,0.8)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    postition: fixed;\r\n    right: 0;\r\n    bottom: 0;\r\n`\r\n\r\nconst Home = () => {\r\n    useEffect(()=>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        }); \r\n    }, [])\r\n    \r\n    return (\r\n        <Container>\r\n            <Navbar/>\r\n            <Announcement/>\r\n            <Slider/>\r\n            <Categories/>\r\n            <Products/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport Products from \"../components/Products\";\r\nimport { mobile } from \"../responsive\";\r\n\r\nconst Container = styled.div``;\r\nconst Title = styled.h1`\r\n    text-align: center;\r\n    margin: 20px;\r\n`;\r\nconst FilterContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n`;\r\nconst Filter = styled.div`\r\n    margin: 20px;\r\n    ${mobile({ display: 'flex', flexDirection: 'column'})}\r\n`;\r\nconst FilterText = styled.span`\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    margin-right: 20px;\r\n    ${mobile({marginRight: '0px'})}\r\n`;\r\nconst Select = styled.select`\r\n    padding: 10px;\r\n    margin-right: 20px;\r\n    ${mobile({margin: '10px 0px'})}\r\n`\r\nconst Option = styled.option``\r\n\r\nconst youtubeVideos ={\r\n    'All Products': '0D2Pv0Xl69Q',\r\n    'Transformers': '0D2Pv0Xl69Q',\r\n    'Marvel': '2DkdFhVznY4',\r\n    'DC-Comics' :'PLwFgS4H64k'\r\n}\r\n\r\nconst ProductList = () => {\r\n    const location = useLocation();\r\n    const categoryPath = location.pathname.split('/')[2]\r\n    const selectRef = useRef();\r\n    \r\n    const [filters, setFilters] = useState({\r\n        category: categoryPath ? categoryPath : 'All Products',\r\n        sort: 'Price (desc)',\r\n    });\r\n\r\n    //change url by category without redirect or reload page\r\n    if(filters.category){\r\n        let pathName = filters.category === 'All Products' ? '' : '/'+filters.category;\r\n        window.history.pushState(\"\", \"\", '/products'+pathName);\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n        \r\n        const select = selectRef.current;\r\n        const options = select.options;\r\n        \r\n        for(let i=0;i<options.length;i++){\r\n\r\n            if(options[i].innerText === filters.category){\r\n                options.selectedIndex = i;\r\n                break;\r\n            }\r\n\r\n            if(i === options.length-1){\r\n                setFilters({\r\n                    ...filters,\r\n                    category: 'All Products'\r\n                })\r\n            }\r\n        }\r\n    }, [filters])\r\n    \r\n    const handleFilters = (e) => {\r\n            setFilters({\r\n                ...filters,\r\n                [e.target.name]: e.target.value\r\n            })\r\n    }\r\n    \r\n    return (\r\n        <Container>\r\n            <iframe \r\n                src={`https://www.youtube.com/embed/${youtubeVideos[filters.category]}?playList=${youtubeVideos[filters.category]}&autoplay=1&mute=1&loop=1&version=3`}\r\n                title=\"YouTube video player\" \r\n                frameBorder=\"0\" \r\n                autoPlay\r\n                muted\r\n                loop={true}\r\n                allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" \r\n                allowFullScreen\r\n                style={{\r\n                    position: 'fixed',\r\n                    right: '0',\r\n                    bottom: '0',\r\n                    minWidth: '100%',\r\n                    minHeight: '100%',\r\n                    opacity: '0.3',\r\n                    zIndex: '-1000'\r\n                }}\r\n            ></iframe>\r\n            <Navbar category={filters?.category}/>\r\n            <Announcement />\r\n            <Title>{filters.category}</Title>\r\n            <FilterContainer>\r\n                <Filter>\r\n                    <FilterText>Category:</FilterText>\r\n                    <Select \r\n                        name=\"category\" \r\n                        onChange={handleFilters}\r\n                        ref={selectRef}\r\n                    >\r\n                        <Option>All Products</Option>\r\n                        <Option>Transformers</Option>\r\n                        <Option>Marvel</Option>\r\n                        <Option>DC-Comics</Option>\r\n                    </Select>\r\n                    {/* <Select onChange={handleFilters}>\r\n                        <Option disabled >Scale</Option>\r\n                        <Option>1:20</Option>\r\n                        <Option>1:30</Option>\r\n                        <Option>1:50</Option>\r\n                    </Select> */}\r\n                </Filter>\r\n                <Filter>\r\n                    <FilterText>Sort Products:</FilterText>\r\n                    <Select name=\"sort\" onChange={handleFilters}>\r\n                        <Option value=\"desc\" defaultValue>Price (desc)</Option>\r\n                        <Option value=\"asc\">Price (asc)</Option>\r\n                        <Option value=\"newest\">Newest</Option>\r\n                        <Option value=\"oldest\">Oldest</Option>\r\n                        {/* <Option value=\"bestseller\">Bestseller</Option>\r\n                        <Option value=\"toprated\">Top rated</Option> */}\r\n                    </Select>\r\n                </Filter>\r\n            </FilterContainer>\r\n            <Products filters={filters} />\r\n            <Newsletter />\r\n            <Footer />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n","import { CloseRounded } from \"@material-ui/icons\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAddressCart } from \"../redux/cartRedux\";\r\nimport \"./delivery-detail.css\";\r\n\r\nconst Button = styled.button`\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n  background-color: #A50064;\r\n  color: white;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst DeliveryDetail = ({ displayDelivery, setDisplayDelivery, setAddress }) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const [errors, setErrors] = useState([false, false, false ,false])\r\n  const [addressObj, setAddressObj] = useState(null)\r\n\r\n  const disableDelivery = () => {\r\n    setDisplayDelivery(false);\r\n  };\r\n\r\n  const handleDeliveryDetail=(e)=>{\r\n    e.preventDefault();\r\n    const name = document.querySelector('#delivery-name').value;\r\n    const address = document.querySelector('#delivery-address').value;\r\n    const phone = document.querySelector('#delivery-phone').value;\r\n    const email = document.querySelector('#delivery-email').value;\r\n    const note = document.querySelector('#delivery-note').value;\r\n\r\n    const nameRegex = new RegExp(/^([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]{2,})+\\s+([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ\\s]{2,})+$/i)\r\n    const addressRegex = new RegExp(/^([sSốỐ0-9a-zA-Z\\s]{1,7})+[\\s,.'-]+([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ0-9\\s,.'-]{3,7}){5,}$/i)\r\n    const phoneRegex = new RegExp(/^[+\\s]?[(]?[0-9]{2,4}[)]?[-\\s.]?([0-9]{3}[-\\s.]?){1,2}[0-9]{3,6}$/im)\r\n    const emailRegex = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n\r\n    setErrors([\r\n      !nameRegex.test(name),\r\n      !addressRegex.test(address),\r\n      !phoneRegex.test(phone),\r\n      !emailRegex.test(email)\r\n    ])\r\n    setAddressObj({name, address, phone, email, note})\r\n  }\r\n\r\n  useEffect(()=>{\r\n    // edit width of textarea\r\n    let input = document.querySelector('#delivery-name')\r\n    let textarea = document.querySelector('#delivery-address')\r\n    if(input && textarea && input.offsetWidth > 0){\r\n      textarea.style.width = (input.offsetWidth -24)+\"px\"\r\n    }\r\n\r\n    // set address for SelectPayment\r\n    if(!errors.includes(true) && addressObj){\r\n      setAddressCart(addressObj)\r\n      setAddress({\r\n        ...addressObj\r\n      })\r\n    }\r\n  }, [displayDelivery, errors, setAddress, addressObj])\r\n\r\n  return (\r\n    <div\r\n      className=\"delivery-container\"\r\n      style={{ display: displayDelivery ? \"block\" : \"none\" }}\r\n    >\r\n      <div className=\"paragraph\">\r\n        <p className=\"mb-0 fw-bold h4\">\r\n          <b>Select Payment Method</b>\r\n        </p>\r\n        <CloseRounded onClick={disableDelivery} />\r\n      </div>\r\n      <Box\r\n        component=\"form\"\r\n        sx={{\r\n          \"& .MuiTextField-root\": { m: 1 },\r\n        }}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n      >\r\n        <TextField\r\n          required\r\n          id=\"delivery-name\"\r\n          label=\"Full Name\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.name}\r\n          color= {errors[0] ? 'error' : \"primary\"}\r\n          error = {errors[0]}\r\n          helperText={errors[0] ? \"Exp: Nguyễn Văn An, vũ hà\" : ''}\r\n        />\r\n        <TextField\r\n          required\r\n          id=\"delivery-address\"\r\n          label=\"Address\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.address}\r\n          color= {errors[1] ? 'error' : \"primary\"}\r\n          error = {errors[1]}\r\n          helperText={errors[1] ? \"Exp: 01, hàng trống, hoàn kiếm\" : ''}\r\n          multiline\r\n          maxRows={4}\r\n        />\r\n        <TextField\r\n          required\r\n          id=\"delivery-phone\"\r\n          label=\"Phone Number\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.phone}\r\n          color= {errors[2] ? 'error' : \"primary\"}\r\n          error = {errors[2]}\r\n          helperText={errors[2] ? \"Exp:0123456789, +84123456789\" : ''}\r\n        />\r\n        <TextField\r\n          id=\"delivery-email\"\r\n          label=\"Email address\"\r\n          type=\"mail\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.email}\r\n          color= {errors[3] ? 'error' : \"primary\"}\r\n          error = {errors[3]}\r\n          helperText={errors[3] ? \"Exp: a@a.aa, hung@gmail.com\" : ''}\r\n        />\r\n        <TextField\r\n          id=\"delivery-note\"\r\n          label=\"Note\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.note}\r\n          color=\"success\"\r\n        />\r\n        <Button onClick={handleDeliveryDetail}>use momo wallet</Button>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeliveryDetail;\r\n","import \"./select-payment.css\";\r\nimport { CloseRounded } from \"@material-ui/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DeliveryDetail from \"./DeliveryDetail\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Notification from \"./Notification\";\r\n\r\nconst KEY = process.env.REACT_APP_STRIPE;\r\n\r\nconst SelectPayment = (props) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.user);\r\n  const setStripeToken = props.setStripeToken;\r\n  const navigate = useNavigate();\r\n  const [displayDelivery, setDisplayDelivery] = useState(false)\r\n  const [address, setAddress] = useState(null)\r\n  const [clickedPayment, setClickedPayment] = useState(null)\r\n  const [notifyMes, setNotifyMes] = useState('')\r\n  const [notifyType, setNotifyType] = useState('info')\r\n  const [notifyTitle, setNotifyTitle] = useState('')\r\n\r\n  const useStripePayment = (token) => {\r\n    if (!user.currentUser?._id) {\r\n      setNotifyMes('Please login before checkout, redirecting to login page')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')    \r\n\r\n      const timeout = setTimeout(()=>{\r\n        navigate('/login')\r\n        window.clearTimeout(timeout)\r\n      }, 4000)\r\n    }\r\n    if (cart.total <= 0){\r\n      setNotifyMes('Your cart is empty, please buy some our products first')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice') \r\n    }\r\n    else {\r\n      setStripeToken(token);\r\n    }\r\n  };\r\n\r\n  const useMomoPayment = () => {\r\n    if (!user.currentUser?._id) {\r\n      setNotifyMes('Please login before checkout, redirecting to login page')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice')    \r\n\r\n      const timeout = setTimeout(()=>{\r\n        navigate('/login')\r\n        window.clearTimeout(timeout)\r\n      }, 4000)\r\n    }\r\n    if (cart.total <= 0){\r\n      setNotifyMes('Your cart is empty, please buy some our products first')\r\n      setNotifyType('warning')\r\n      setNotifyTitle('Notice') \r\n    }\r\n    else{\r\n      setDisplayDelivery(true)\r\n      document.querySelector(\".payment-container\").style.display = \"none\";\r\n      setClickedPayment(true)\r\n    }\r\n  };\r\n\r\n  const disableCheckout = () => {\r\n    document.querySelector(\".payment-container\").style.display = \"none\";\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if(address && clickedPayment){\r\n      const callMomoApi = async()=>{\r\n        try {\r\n          const res = await userRequest.post(\"/checkout/momo\", {\r\n            amount: cart.total + 20000,\r\n            address\r\n          });\r\n          window.location.href = JSON.parse(res.data).payUrl;\r\n        } catch (err) {\r\n          console.dir(err);\r\n          if(err.response.data === 'Token is not valid!'){\r\n            setNotifyMes('You was not login or your login session was expired, redirecting to login page')\r\n            setNotifyType('warning')\r\n            setNotifyTitle('Notice')             \r\n\r\n            const timeout = setTimeout(()=>{\r\n              navigate('/login')\r\n              window.clearTimeout(timeout)\r\n            }, 4000)\r\n          }\r\n          setClickedPayment(false);\r\n        }\r\n      }\r\n\r\n      callMomoApi();\r\n    }\r\n  }, [address, cart, navigate, user, clickedPayment])\r\n\r\n  return (\r\n    <>\r\n    <Notification \r\n        title={notifyTitle}\r\n        message={notifyMes}\r\n        type={notifyType}\r\n        duration={5000}\r\n    />      \r\n    <DeliveryDetail \r\n      displayDelivery={displayDelivery} \r\n      setDisplayDelivery={setDisplayDelivery}\r\n      setAddress={setAddress}  \r\n    />\r\n    <div className=\"payment-container\">\r\n      <div className=\"paragraph\">\r\n        <p className=\"mb-0 fw-bold h4\">\r\n          <b>Select Payment Method</b>\r\n        </p>\r\n        <CloseRounded onClick={disableCheckout} />\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4 mb-lg-0 mb-3\">\r\n          <div className=\"card p-3\">\r\n            <div className=\"img-box\">\r\n              <StripeCheckout\r\n                name=\"Figure shop\"\r\n                image=\"https://blog.logomyway.com/wp-content/uploads/2021/08/transformer-logo.jpg\"\r\n                billingAddress\r\n                shippingAddress\r\n                description={`Your total amount is ${cart.total + 20000} &#8363;`}\r\n                amount={cart.total + 20000}\r\n                token={useStripePayment}\r\n                stripeKey={KEY}\r\n                currency=\"VND\"\r\n              >\r\n                <button className=\"btn stripe\">\r\n                  <img\r\n                    src=\"https://logos-world.net/wp-content/uploads/2021/03/Stripe-Emblem-700x394.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </button>\r\n              </StripeCheckout>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-4 mb-lg-0 mb-3\">\r\n          <div className=\"card p-3\">\r\n            <div className=\"img-box\">\r\n              <button onClick={useMomoPayment} className=\"btn momo\">\r\n                <img src=\"/img/momo_icon_square_pinkbg_RGB.png\" alt=\"\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectPayment;\r\n","import { Add, DeleteForeverOutlined, Remove } from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { mobile } from \"../responsive\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport SelectPayment from \"../components/SelectPayment\";\r\nimport { addProduct, removeProduct } from \"../redux/cartRedux\";\r\nimport Notification from \"../components/Notification\";\r\n\r\nconst Container = styled.div``;\r\nconst Wrapper = styled.div`\r\n  padding: 20px;\r\n  ${mobile({ padding: \"10px\" })}\r\n`;\r\nconst Title = styled.h1`\r\n  font-weight: 300;\r\n  text-align: center;\r\n`;\r\nconst Top = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n`;\r\nconst TopButton = styled.button`\r\n  padding: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border: ${(props) => props.type === \"filled\" && \"none\"};\r\n  background-color: ${(props) =>\r\n    props.type === \"filled\" ? \"black\" : \"transparent\"};\r\n  color: ${(props) => props.type === \"filled\" && \"white\"};\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\nconst TopTexts = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\nconst TopText = styled.span`\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  margin: 0px 10px;\r\n  padding-bottom: 5px;\r\n`;\r\nconst Bottom = styled.div`\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  @media only screen and (max-width: 800px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst Info = styled.div`\r\n  flex: 3;\r\n`;\r\n\r\nconst Product = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  @media only screen and (max-width: 950px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst ProductDetail = styled.div`\r\n  flex: 2;\r\n  display: flex;\r\n  max-height: 33vh;\r\n  justify-content: space-between;\r\n`;\r\nconst Image = styled.img`\r\n  width: 33.3%;\r\n  // height: 100%;\r\n  object-fit: cover;\r\n`;\r\nconst Details = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst DeleteContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nconst DeleteButton = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: auto;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    cursor: pointer;      \r\n    transform: scale(1.1);\r\n  }\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\n\r\nconst ProductName = styled.span``;\r\nconst ProductId = styled.span``;\r\nconst ProductType = styled.span``;\r\nconst ProductPrice = styled.span``;\r\n\r\nconst PriceDetail = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst ProductQuantityContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 15px 0px 10px 0px;\r\n`;\r\n\r\nconst DeleteButtonMobile = styled.div`\r\n  display: none;\r\n  align-items: center;\r\n  overflow: auto;\r\n  margin-right: 20px;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n      cursor: pointer;\r\n      transform: scale(1.1);\r\n  }\r\n  ${mobile({ display: \"flex\" })}\r\n`;\r\n\r\nconst ProductQuantity = styled.div`\r\n  font-size: 24px;\r\n  margin: 0px 10px;\r\n  ${mobile({ margin: \"5px 30px\" })}\r\n`;\r\nconst ProductAmount = styled.div`\r\n  font-size: 30px;\r\n  font-weight: 200;\r\n  margin-bottom: 10px;\r\n  ${mobile({ marginBottom: \"20px\" })}\r\n`;\r\n\r\nconst Hr = styled.hr`\r\n  background-color: #eee;\r\n  border: none;\r\n  height: 1px;\r\n  margin: 10px 0px;\r\n`;\r\nconst Summary = styled.div`\r\n  flex: 1;\r\n  border: 0.5px solid lightgray;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  height: 100%;\r\n  display: block;\r\n`;\r\nconst SummaryTitle = styled.h1`\r\n  font-weight: 200;\r\n  font-size: 35px;\r\n`;\r\nconst SummaryItem = styled.div`\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-weight: ${(props) => props.type === \"total\" && \"500\"};\r\n  font-size: ${(props) => props.type === \"total\" && \"24px\"};\r\n`;\r\nconst SummaryItemText = styled.span`\r\n  flex: 3;\r\n`;\r\nconst SummaryItemPrice = styled.span`\r\n  flex: 2;\r\n`;\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: black;\r\n  color: white;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Cart = () => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.user)\r\n  const [stripeToken, setStripeToken] = useState(null);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [message, setMessage] = useState('')\r\n  const [type, setType] = useState('info')\r\n  const [title, setTitle] = useState('')\r\n\r\n  const checkout = () => {\r\n    if(!user.currentUser?._id){\r\n        setMessage('Please login before checkout, redirecting to login page')\r\n        setType('warning')\r\n        setTitle('Notice')\r\n        const timeout = setTimeout(()=>{\r\n          navigate('/login')\r\n          window.clearTimeout(timeout)\r\n        }, 4000)\r\n    }\r\n    document.querySelector(\".payment-container\").style.display = \"block\";\r\n  };\r\n\r\n  const handleQuantity = (type, id) => {\r\n    const quantity = 1;\r\n    const product = cart.products.find((element) => element._id === id);\r\n    if (type === \"asc\") {\r\n      dispatch(addProduct({ ...product, quantity }));\r\n    }\r\n    if (type === \"desc\") {\r\n      dispatch(removeProduct({ ...product, quantity }));\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    const product = cart.products.find((element) => element._id === id);\r\n    const quantity = product.quantity;\r\n    if(window.confirm('Are you sure you want to remove this product'))\r\n        dispatch(removeProduct({ ...product, quantity }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const makeStripeRequest = async () => {\r\n      try {\r\n        const res = await userRequest.post(\"/checkout/stripe\", {\r\n          tokenId: stripeToken.id,\r\n          amount: cart.total + 20000,\r\n        });\r\n        \r\n        navigate(\"/success\", {\r\n          state: {\r\n            stripeData: res.data,\r\n            cart,\r\n          },\r\n        });\r\n      } catch (err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n\r\n    stripeToken && makeStripeRequest();\r\n  }, [stripeToken, cart, navigate]);\r\n\r\n  return (\r\n    <Container>\r\n      <Navbar />\r\n      <Announcement />\r\n      <Notification title={title} message={message} type={type} />\r\n      <Wrapper>\r\n        <Title>YOUR BAG</Title>\r\n        <Top>\r\n          <Link to=\"/\">\r\n            <TopButton>CONTINUE SHOPPING</TopButton>\r\n          </Link>\r\n          <TopTexts>\r\n            <TopText>Shopping Bag({cart.quantity})</TopText>\r\n            <TopText>Your Wishlist(0)</TopText>\r\n          </TopTexts>\r\n          <TopButton onClick={checkout} type=\"filled\">\r\n            CHECKOUT NOW\r\n          </TopButton>\r\n        </Top>\r\n        <Bottom>\r\n          <Info>\r\n            {cart.products.map((product) => (\r\n              <div key={product._id}>\r\n                <Product>\r\n                  <ProductDetail>\r\n                    <Image src={product.img[0]} />\r\n                    <Details>\r\n                      <ProductName>\r\n                        <b>Product: </b>\r\n                        {product.title}\r\n                      </ProductName>\r\n                      <ProductId>\r\n                        <b>ID: </b>\r\n                        <p style={{wordBreak: 'break-all', whiteSpace: 'normal'}}>{product._id}</p>\r\n                      </ProductId>\r\n                      <ProductType>\r\n                        <b>Type: </b>\r\n                        {product.category}\r\n                      </ProductType>\r\n                      <ProductPrice>\r\n                        <b>Price: </b> {product.price} &#8363;\r\n                      </ProductPrice>\r\n                    </Details>\r\n                    <DeleteContainer>\r\n                        <DeleteButton onClick={()=>removeFromCart(product._id)}>\r\n                            <DeleteForeverOutlined color=\"error\" />\r\n                        </DeleteButton>\r\n                    </DeleteContainer>\r\n                  </ProductDetail>\r\n                  <PriceDetail>\r\n                    <ProductQuantityContainer>\r\n                        <DeleteContainer>\r\n                            <DeleteButtonMobile onClick={()=>removeFromCart(product._id)}>\r\n                                <DeleteForeverOutlined color=\"error\" />\r\n                            </DeleteButtonMobile>\r\n                        </DeleteContainer>\r\n                      <Remove\r\n                        onClick={() => handleQuantity(\"desc\", product._id)}\r\n                      />\r\n                      <ProductQuantity>{product.quantity}</ProductQuantity>\r\n                      <Add onClick={() => handleQuantity(\"asc\", product._id)} />\r\n                    </ProductQuantityContainer>\r\n                    <ProductAmount>\r\n                      {product.price * product.quantity} &#8363;\r\n                    </ProductAmount>\r\n                  </PriceDetail>\r\n                </Product>\r\n                <Hr />\r\n              </div>\r\n            ))}\r\n          </Info>\r\n          <Summary>\r\n            <SummaryTitle>ORDER SUMMARY</SummaryTitle>\r\n            <SummaryItem>\r\n              <SummaryItemText>Subtotal</SummaryItemText>\r\n              <SummaryItemPrice>{cart.total} &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <SummaryItem>\r\n              <SummaryItemText>Estimated Shipping</SummaryItemText>\r\n              <SummaryItemPrice>20000 &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            {/* <SummaryItem>\r\n              <SummaryItemText>Shipping Discount</SummaryItemText>\r\n              <SummaryItemPrice>-20000 &#8363;</SummaryItemPrice>\r\n            </SummaryItem> */}\r\n            <SummaryItem type=\"total\">\r\n              <SummaryItemText>Total</SummaryItemText>\r\n              <SummaryItemPrice>{cart.total + 20000} &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <Button onClick={checkout}>CHECKOUT NOW</Button>\r\n          </Summary>\r\n        </Bottom>\r\n      </Wrapper>\r\n      <SelectPayment setStripeToken={setStripeToken} />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { loginFailure, loginStart, loginSuccess, registerStart, registerSuccess, registerFailure } from \"./userRedux\";\r\nimport { publicRequest } from \"../requestMethods\";\r\n\r\nexport const login = async (dispatch, user) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await publicRequest.post(\"/auth/login\", user);\r\n    dispatch(loginSuccess(res.data));\r\n  } catch (err) {\r\n    console.dir(err)\r\n    dispatch(loginFailure());\r\n  }\r\n};\r\n\r\nexport const register = async (dispatch, user) => {\r\n  dispatch(registerStart());\r\n  try{\r\n    const res = await publicRequest.post(\"/auth/register\", user);\r\n    console.dir(res)\r\n    dispatch(registerSuccess());\r\n  } catch (err) {\r\n    console.dir(err)\r\n    dispatch(registerFailure());\r\n  }\r\n}","import {GoogleLogin} from 'react-google-login'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport axios from 'axios';\r\nimport {useState, useEffect} from 'react'\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport { reset } from '../redux/userRedux'\r\nimport { login } from '../redux/apiCalls'\r\nimport Notification from '../components/Notification'\r\n\r\nconst LoginGoogle = ()=>{\r\n  const dispatch = useDispatch()\r\n  const {isFetching, error} = useSelector((state) => state.user)\r\n  const [notifyMes, setNotifyMes] = useState('')\r\n  const [notifyType, setNotifyType] = useState('info')\r\n  const [notifyTitle, setNotifyTitle] = useState('')\r\n\r\n  const responseGoogle = async (res)=>{\r\n    try{\r\n      const googleAuthRes = await axios.get(\r\n        'https://www.googleapis.com/oauth2/v3/tokeninfo?id_token='\r\n        +res.tokenId\r\n      )\r\n\r\n      if(googleAuthRes.data?.email_verified === 'true'){\r\n        let user = {\r\n          email: res.profileObj.email,\r\n          username: res.profileObj.googleId,\r\n          password: res.profileObj.googleId,\r\n          loginByGoogle: true,\r\n          img: res.profileObj.imageUrl\r\n        }\r\n\r\n        const checkUserRes = await publicRequest.get(\"/auth/checkUsername/\"+user.username);\r\n\r\n        if(checkUserRes.data === 'OK'){\r\n          const registerRes = await publicRequest.post(\"/auth/register\", user);\r\n          user = null\r\n          user= {...registerRes.data, password: res.profileObj.googleId}\r\n          user && login(dispatch, user);\r\n        }\r\n        else{\r\n          user.password && login(dispatch, user);\r\n        }\r\n        const timeout = setTimeout(()=>{\r\n          !error && window.location.reload()\r\n          window.clearTimeout(timeout)\r\n        }, 1000) \r\n\r\n      } else {\r\n        setNotifyMes('Your email cannot authorize')\r\n        setNotifyType('warning')\r\n        setNotifyTitle('Notice')      \r\n      }\r\n    } catch(err){\r\n      console.dir(err)\r\n      setNotifyMes(err.response.data)\r\n      setNotifyType('error')\r\n      setNotifyTitle('Error')  \r\n    }    \r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(error) {\r\n      setNotifyMes('Your username or/and password is incorrect, try again')\r\n      setNotifyType('error')\r\n      setNotifyTitle('Error')   \r\n      dispatch(reset())\r\n    }\r\n  }, [dispatch, error])  \r\n\r\n  return (\r\n    <div disabled={isFetching}>\r\n      <Notification \r\n          title={notifyTitle}\r\n          message={notifyMes}\r\n          type={notifyType}\r\n          duration={10000}\r\n      />     \r\n      <GoogleLogin\r\n        clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\r\n        buttonText='Login with Google'\r\n        onSuccess={responseGoogle}\r\n        onFailure={responseGoogle}\r\n        cookiePolicy={'single_host_origin'}     \r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginGoogle","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { login } from '../redux/apiCalls'\r\nimport { mobile } from '../responsive'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { reset } from '../redux/userRedux'\r\nimport Notification from '../components/Notification'\r\nimport LoginGoogle from '../components/LoginGoogle'\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.5), \r\n    rgba(255, 255, 255 ,0.5)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Wrapper = styled.div`\r\n    width: 30%;\r\n    padding: 20px;\r\n    ${mobile({width: '75%'})}\r\n`\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    font-size: 24px;\r\n`\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\nconst Input = styled.input`\r\n    flex: 1;\r\n    min-width: 40%;\r\n    margin: 10px 0px;\r\n    padding: 10px;\r\n`\r\nconst Button = styled.button`\r\n    width: 50%;\r\n    border: none;\r\n    padding: 15px 20px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        transform: scale(1.1);\r\n    }\r\n    margin-bottom: 5px;\r\n    &:disabled{\r\n        color: orange;\r\n        cursor: not-allowed;\r\n    }\r\n`\r\nconst Error = styled.span`\r\n    color: red;\r\n`\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const dispatch = useDispatch();\r\n    const {isFetching, error} = useSelector((state) => state.user)\r\n    const [notifyMes, setNotifyMes] = useState('')\r\n    const [notifyType, setNotifyType] = useState('info')\r\n    const [notifyTitle, setNotifyTitle] = useState('')\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        if(username.trim() !== '' && password.trim() !== ''){\r\n            try{\r\n                login(dispatch, {username, password})\r\n                \r\n                const timeout = setTimeout(()=>{\r\n                    !error && window.location.reload()\r\n                    window.clearTimeout(timeout)\r\n                }, 1000)                     \r\n            }\r\n            catch(err){\r\n                console.dir(err)\r\n            }\r\n        } else {\r\n            setNotifyMes('Your username or/and password is empty, please insert correctly')\r\n            setNotifyType('warning')\r\n            setNotifyTitle('Notice')\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(reset())\r\n        // document.querySelector('#username').focus()\r\n\r\n        if(error) {\r\n            setNotifyMes('Your username or/and password is incorrect, try again')\r\n            setNotifyType('error')\r\n            setNotifyTitle('Error')   \r\n        }\r\n    }, [dispatch, error])\r\n\r\n    return (\r\n        <Container>\r\n            <Notification \r\n                title={notifyTitle}\r\n                message={notifyMes}\r\n                type={notifyType}\r\n                duration={100000}\r\n            />        \r\n            <Wrapper>\r\n                <Title>SIGN IN</Title>\r\n                <Form>\r\n                    <Input \r\n                        placeholder=\"username\" id='username' required\r\n                        onChange={\r\n                            (e) => setUsername(e.target.value)\r\n                        }\r\n                    />\r\n                    <Input \r\n                        placeholder=\"password\" required\r\n                        onChange={\r\n                            (e) => setPassword(e.target.value)\r\n                        }\r\n                        type=\"password\"\r\n                    />\r\n                    <Button \r\n                        onClick={handleLogin}\r\n                        disabled={isFetching}\r\n                    >LOGIN</Button>\r\n                    <LoginGoogle/>\r\n                    {error && <Error>Somethings went wrong...</Error>}\r\n                    <Link to='/'\r\n                        style={{    \r\n                            margin: '5px 0px',\r\n                            fontSize: '12px',\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                        }}                    \r\n                    >DON'T REMEMBER THE PASSWORD?</Link>\r\n                    <Link to='/register'\r\n                        style={{    \r\n                            margin: '5px 0px',\r\n                            fontSize: '12px',\r\n                            textDecoration: 'underline',\r\n                            cursor: 'pointer',\r\n                        }}\r\n                    >CREATE A NEW ACCOUNT</Link>\r\n                </Form>\r\n            </Wrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import styled from 'styled-components'\r\nimport { useState, useEffect } from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport { register } from '../redux/apiCalls'\r\nimport {reset} from '../redux/userRedux'\r\nimport { mobile } from '../responsive'\r\nimport Notification from '../components/Notification'\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.5), \r\n    rgba(255, 255, 255 ,0.5)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Wrapper = styled.div`\r\n    width: 40%;\r\n    padding: 20px;\r\n    ${mobile({width: '75%'})}\r\n`\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    font-size: 24px;\r\n`\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n`\r\nconst Input = styled.input`\r\n    flex: 1;\r\n    min-width: 40%;\r\n    margin: 20px 10px 0px 0px;\r\n    padding: 10px;\r\n`\r\nconst Agreement = styled.span`\r\n        font-size: 15px;\r\n        margin: 20px 0px;\r\n`\r\nconst Button = styled.button`\r\n    width: 40%;\r\n    border: none;\r\n    padding: 15px 20px;\r\n    margin-right: 20px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        transform: scale(1.1);\r\n    }\r\n    &:disabled{\r\n        color: orange;\r\n        cursor: not-allowed;\r\n    }\r\n`\r\n// const Error = styled.span`\r\n//     color: red;\r\n// `\r\n\r\nconst Register = () => {\r\n    const [username, setUsername] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const dispatch = useDispatch();\r\n    const {isFetching, error} = useSelector((state) => state.user)\r\n    const [notifyMes, setNotifyMes] = useState('')\r\n    const [notifyType, setNotifyType] = useState('info')\r\n    const [notifyTitle, setNotifyTitle] = useState('')\r\n    // const [notifyDuration, setNotifyDuration] = useState(5000)\r\n    const navigate = useNavigate()\r\n\r\n    const handleRegister = (e) => {\r\n        e.preventDefault();\r\n\r\n        const usernameReg = new RegExp(/^(?!.*(!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|\\+|=|`|~|'|\"|;|:|,|<|\\.|>|\\/|\\?))[a-zA-Z0-9\\-_]{6,20}$/)\r\n        const emailReg = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n        const passwordReg = new RegExp(/^(?!.*(!|@|#|\\$|%|\\^|&|\\*|\\(|\\)|\\+|=|`|~|'|\"|;|:|,|<|\\.|>|\\/|\\?))(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,20}$/)\r\n        if(!usernameReg.test(username) || !emailReg.test(email) || !passwordReg.test(password) || password !== confirmPassword){\r\n            if(!usernameReg.test(username)){\r\n                setNotifyMes('Your username should be between 6 and 20 characters'\r\n                    +'<br/>, including letters, numbers, \" - \", \" _ \"')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            } \r\n            if(!emailReg.test(email)){\r\n                setNotifyMes('Your email should be correct, example: \"abc@gmail.com\"')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            }\r\n            if(!passwordReg.test(password)){\r\n                setNotifyMes('Your password should be between 8 and 20 characters, which contain at least'\r\n                +'<br/> one uppercase, one lowercase letter, one number'\r\n                +' and may include the following characters : \" - \", \" _ \"')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            }\r\n            if(password !== confirmPassword){\r\n                setNotifyMes('Your confirm password should be same as your password')\r\n                setNotifyType('error')\r\n                setNotifyTitle('Validation error')\r\n                return;\r\n            }\r\n        } else {\r\n            register(dispatch, {username, email, password})\r\n            \r\n            const timeout = setTimeout(()=>{\r\n                if(!error){\r\n                    setNotifyMes('Congratulations! Your account has been registered')\r\n                    setNotifyType('success')\r\n                    setNotifyTitle('Success')\r\n\r\n                    const timeout2 = setTimeout(()=>{\r\n                        navigate('/login')\r\n                        window.clearTimeout(timeout2)\r\n                    }, 3000)                    \r\n                }\r\n                window.clearTimeout(timeout)\r\n            }, 5000)\r\n        }\r\n    }\r\n\r\n    const suggest = (inputType)=>{\r\n        switch(inputType){\r\n            case 'username':\r\n                setNotifyMes('Between 6 and 20 characters'\r\n                +'<br/>, including letters, numbers, \" - \", \" _ \"')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')                \r\n                break;\r\n            case 'email':\r\n                setNotifyMes('Email example: \"abc@gmail.com\"')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n            case 'password':\r\n                setNotifyMes('Between 8 and 20 characters, which contain at least'\r\n                    +'<br/> one uppercase, one lowercase letter, one number'\r\n                    +' and one character is listed below: \" - \", \" _ \"')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n            case 'conPassword':\r\n                setNotifyMes('Be same as your password')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n            default:\r\n                setNotifyMes('All field should be inputted correctly. Thanks!')\r\n                setNotifyType('info')\r\n                setNotifyTitle('Suggestion')\r\n                break;\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(reset())\r\n        document.querySelector('#username').focus()\r\n        if(error){\r\n            setNotifyMes('Your username was exists, try again')\r\n            setNotifyType('error')\r\n            setNotifyTitle('Error')\r\n\r\n            const timeout = setTimeout(()=>{\r\n                window.location.reload()\r\n                window.clearTimeout(timeout)\r\n            }, 3000)\r\n        }\r\n    }, [dispatch, error])\r\n\r\n    return (\r\n        <Container>\r\n            <Notification \r\n                title={notifyTitle}\r\n                message={notifyMes}\r\n                type={notifyType}\r\n            />\r\n            <Wrapper>\r\n                <Title>CREATE AN ACCOUNT</Title>\r\n                <Form>\r\n                    {/* <Input placeholder=\"name\"/> */}\r\n                    {/* <Input placeholder=\"last name\"/> */}\r\n                    <Input placeholder=\"username\" type='text' id='username' required value={username}\r\n                        onChange={\r\n                            (e) => setUsername(e.target.value)\r\n                        }\r\n                        onClick={()=>{suggest('username')}}                        \r\n                    />\r\n                    <Input placeholder=\"email\" type=\"email\" required value={email}\r\n                        onChange={\r\n                            (e) => setEmail(e.target.value)\r\n                        }  \r\n                        onClick={()=>{suggest('email')}}                      \r\n                    />\r\n                    <Input placeholder=\"password\" type=\"password\" required value={password}\r\n                        onChange={\r\n                            (e) => setPassword(e.target.value)\r\n                        }\r\n                        onClick={()=>{suggest('password')}}                        \r\n                    />\r\n                    <Input placeholder=\"confirm password\" type=\"password\" required value={confirmPassword}\r\n                        onChange={\r\n                            (e) => setConfirmPassword(e.target.value)\r\n                        }\r\n                        onClick={()=>{suggest('conPassword')}}                        \r\n                    />\r\n                    <Agreement>\r\n                        By creating an account, I consent to the processing\r\n                        of my personal data in accordance with the <b>PRIVACY POLICY</b>\r\n                    </Agreement>\r\n                    \r\n                    <Button\r\n                        onClick={handleRegister}\r\n                        disabled={isFetching}\r\n                    >CREATE</Button>\r\n                    <Link to='/login' style={{fontSize: '15px'}}>You already have an account <br/> redirect to login page</Link>\r\n                </Form>\r\n            </Wrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { userRequest, publicRequest } from \"../requestMethods\";\r\nimport {useDispatch} from 'react-redux'\r\nimport {removeCart} from '../redux/cartRedux'\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Announcement from '../components/Announcement';\r\n\r\nconst Success = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const data = location.state?.stripeData;\r\n  const cart = location.state?.cart\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [orderId, setOrderId] = useState(null);\r\n  const [amount, setAmount] = useState();\r\n  const [isMailSended, setIsMailSended] = useState(false);\r\n  const navigate = useNavigate()\r\n\r\n  // create order, remove cart after creating order\r\n  useEffect(() => {\r\n    const createOrder = async () => {\r\n      try {\r\n        setAmount(cart.total)\r\n        const res = await userRequest.post(\"/orders\", {\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total +20000,\r\n          address: data.billing_details.address,\r\n        });\r\n        \r\n        if(res.data?._id) {\r\n          //send mail to user\r\n          let mailText = `\r\n\\nYour order id: ${res.data._id}\\n\r\nBill amount: ${cart.total + 20000}\\n\r\nYour delivery address: ${data.billing_details.address?.line1}\\n\r\nYour payment method: Momo QR code\\n\r\nProducts that you have purchased: \\n\r\n  <table style='border: 1px solid; border-collapse: collapse;'>\r\n  <thead>\r\n    <tr>\r\n      <td style='border: 1px solid; border-collapse: collapse;'>Name</td>\r\n      <td style='border: 1px solid; border-collapse: collapse;'>Quantity</td>\r\n      <td style='border: 1px solid; border-collapse: collapse;'>Price</td>\r\n    </tr>\r\n  </thead>\r\n  <tbody>`\r\n\r\n          for(let item of cart.products) {\r\n            mailText += `<tr>\r\n                <td style='border: 1px solid; border-collapse: collapse;'>${item.title}</td>\r\n                <td style='border: 1px solid; border-collapse: collapse;'>${item.quantity}</td>\r\n                <td style='border: 1px solid; border-collapse: collapse;'>${item.price} &#8363;</td>\r\n              </tr>`\r\n          }\r\n\r\n          mailText = mailText+ '</tbody></table>\\n'\r\n            + 'Your products are preparing and will be delivered as soon as possible'\r\n            +'\\nSincere thanks\\n'\r\n\r\n          const emailRes = publicRequest.post('/mail', {userMail: currentUser?.email, mailText})\r\n          \r\n          setOrderId(res.data._id);\r\n          dispatch(removeCart())\r\n          \r\n          // delete cart redux state if user reload page\r\n          window.history.replaceState({}, '');\r\n          emailRes.data && setIsMailSended(true)\r\n\r\n          const timeout = setTimeout(()=>{\r\n            navigate('/')\r\n            window.clearTimeout(timeout)\r\n          }, 60000)         \r\n        }\r\n      } catch(err) {\r\n        console.dir(err)\r\n      }\r\n    };\r\n    data && cart && createOrder();\r\n  }, [cart, data, currentUser, dispatch, navigate]);\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        background: 'linear-gradient('\r\n          +'rgba(255, 255, 255, 0.5), '\r\n          +'rgba(255, 255, 255 ,0.5)'\r\n          +'),'\r\n          +'url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") '\r\n          +'center',\r\n        backgroundSize: 'cover'           \r\n      }}\r\n    >\r\n      <p>{orderId\r\n        ? `Order has been created successfully. Your order number is ${orderId}`\r\n        : `Successful. Your order is being prepared...`}</p>\r\n      <p>\r\n        {isMailSended && `Transaction informations was sended to your email.\\n`}\r\n      </p>\r\n      <p>\r\n        {amount && `Your total amount: ${amount +20000} `}&#8363;\r\n      </p> \r\n      <Link to='/'>\r\n      <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n      </Link>\r\n    </div>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Success;","import { useEffect, useState } from \"react\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./order-list.css\";\r\nimport TimeAgo from 'javascript-time-ago'\r\nimport vi from 'javascript-time-ago/locale/vi.json' // Vietnamese.\r\nimport en from 'javascript-time-ago/locale/en.json' // English.\r\nimport {Link} from 'react-router-dom'\r\nimport Pagination from '@mui/material/Pagination';\r\n\r\nTimeAgo.addLocale(vi)\r\nTimeAgo.addLocale(en)\r\nTimeAgo.setDefaultLocale('vi')\r\n\r\nexport default function WidgetLg() {\r\n  const [orders, setOrders] = useState([]);\r\n  const user = useSelector((state) => state.user?.currentUser);\r\n  const timeAgo = new TimeAgo()\r\n  const [page, setPage] = useState(1);\r\n  const rowPerPage =  6;\r\n  const [totalPage, setTotalPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const getOrders = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"orders/find/\"+user._id);\r\n\r\n        let list = res.data.sort((a,b)=>{\r\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()\r\n        })\r\n        \r\n        setOrders(list);\r\n        setTotalPage(Math.ceil(res.data.length / rowPerPage))\r\n      } catch(err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    user && getOrders();\r\n  }, [user]);\r\n\r\n  const Button = ({ status }) => {\r\n    return <button className={\"widgetLgButton \" + status}>{status}</button>;\r\n  };\r\n\r\n  return (\r\n    <div className=\"widgetLg\">\r\n    {orders?.length > 0 ? (\r\n      <>\r\n      <h3 className=\"widgetLgTitle\">Latest transactions</h3>\r\n      <table className=\"widgetLgTable\">\r\n        <thead>\r\n        <tr className=\"widgetLgTr\">\r\n          {/* <th className=\"widgetLgTh\">ID</th> */}\r\n          <th className=\"widgetLgTh\">Date</th>\r\n          <th className=\"widgetLgTh\">Amount</th>\r\n          <th className=\"widgetLgTh\">Status</th>\r\n          <th className='widgetLgTh'>Action</th>\r\n        </tr>\r\n        </thead>\r\n        {orders.slice((page-1)*rowPerPage, page * rowPerPage).map((order, i) => (\r\n          <tbody key={order?._id}>\r\n          <tr className=\"widgetLgTr\" >\r\n            {/* <td className=\"widgetLgUser\">\r\n              <span className=\"widgetLgName\">{order?._id}</span>\r\n            </td> */}\r\n            <td className=\"widgetLgDate\">{\r\n              timeAgo.format(new Date(order?.updatedAt), 'round')\r\n            }</td>\r\n            <td className=\"widgetLgAmount\">{order?.amount} &#8363;</td>\r\n            <td className=\"widgetLgStatus\">\r\n            <Button status={order?.status} />        \r\n            </td>\r\n            <td className='widgetLgAction'>\r\n              <Link to={'/account/order/'+order?._id} className='link'>View</Link>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        ))}\r\n      </table>\r\n      <div style={{\r\n        marginTop: '15px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        margin: 'auto',        \r\n      }}>\r\n        <Pagination\r\n          page={page}\r\n          count={totalPage}\r\n          onChange={(e, value) => setPage(value)}\r\n        />\r\n      </div>      \r\n      </>\r\n    ) : (\r\n      <h3>You have never purchased from us</h3>\r\n    )}\r\n    </div>\r\n  );\r\n}\r\n","// import {\r\n//   CalendarToday,\r\n//   LocationSearching,\r\n//   MailOutline,\r\n//   PermIdentity,\r\n//   PhoneAndroid,\r\n// } from \"@material-ui/icons\";\r\nimport { useSelector } from \"react-redux\";\r\n// import { Publish } from \"@material-ui/icons\";\r\nimport \"./user-profile.css\";\r\nimport OrderList from '../components/OrderList';\r\nimport {useState, useEffect} from 'react';\r\nimport { userRequest } from \"../requestMethods\";\r\nimport CryptoJS from \"crypto-js\";// hash password\r\nimport VisibilityRoundedIcon from '@mui/icons-material/VisibilityRounded';\r\nimport VisibilityOffRoundedIcon from '@mui/icons-material/VisibilityOffRounded';\r\nimport Google from \"@mui/icons-material/Google\";\r\n\r\nexport default function User() {\r\n  const user = useSelector((state) => state.user?.currentUser);\r\n  const [password, setPassword] = useState(null)\r\n  const [isPassVisible, setIsPassVisible] = useState(false)\r\n  const [hadFoundedPassword, setHadFoundedPassword] = useState(false)\r\n\r\n  const handleClick = ()=>{\r\n    let passInput = document.getElementById('password')\r\n\r\n    if(passInput)\r\n      if(!isPassVisible) {\r\n        passInput.type = 'text'\r\n        setIsPassVisible(true)\r\n      } else{\r\n        passInput.type = 'password'\r\n        setIsPassVisible(false)\r\n      } \r\n  }\r\n\r\n  useEffect(()=>{\r\n    const getPassword = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"users/findPassword/\"+user._id);\r\n        if(res.data === 'Admin should not see his or someone else password')\r\n          setPassword(null);\r\n        else \r\n          setPassword(res.data)\r\n      } catch(err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    user && password === null && getPassword();\r\n\r\n    if(password && !hadFoundedPassword){\r\n      const hashedPassword = CryptoJS.AES.decrypt(\r\n        password,\r\n        process.env.REACT_APP_PASS_SEC\r\n      );\r\n        \r\n      // original password was found from db\r\n      const originalPassword = hashedPassword.toString(CryptoJS.enc.Utf8);  \r\n      setPassword(originalPassword)  \r\n      setHadFoundedPassword(true)\r\n    }\r\n  }, [user, password, hadFoundedPassword]);\r\n\r\n  return (\r\n    <div className=\"user\">\r\n      <div className=\"userTitleContainer\">\r\n        <h1 className=\"userTitle\">View User</h1>\r\n      </div>\r\n      <div className=\"userContainer\">\r\n        {/* <div className=\"userShow\">\r\n          <div className=\"userShowTop\">\r\n            <img\r\n              src={user?.img || \"https://crowd-literature.eu/wp-content/uploads/2015/01/no-avatar.gif\"}\r\n              alt=\"\"\r\n              className=\"userShowImg\"\r\n            />\r\n            <div className=\"userShowTopTitle\">\r\n              <span className=\"userShowUsername\">Hung Vu</span>\r\n              <span className=\"userShowUserTitle\">Programmer</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"userShowBottom\">\r\n            <span className=\"userShowTitle\">Account Details</span>\r\n            <div className=\"userShowInfo\">\r\n              <PermIdentity className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">Hung Vu</span>\r\n            </div>\r\n            <div className=\"userShowInfo\">\r\n              <CalendarToday className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">10.01.1999</span>\r\n            </div>\r\n            <span className=\"userShowTitle\">Contact Details</span>\r\n            <div className=\"userShowInfo\">\r\n              <PhoneAndroid className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">+84 123 456 67</span>\r\n            </div>\r\n            <div className=\"userShowInfo\">\r\n              <MailOutline className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">hungvu@gmail.com</span>\r\n            </div>\r\n            <div className=\"userShowInfo\">\r\n              <LocationSearching className=\"userShowIcon\" />\r\n              <span className=\"userShowInfoTitle\">Hanoi | Vietnam</span>\r\n            </div>\r\n          </div>\r\n        </div> */}\r\n        <div className=\"userUpdate\">\r\n          <span className=\"userUpdateTitle\">Info</span>\r\n          <form className=\"userUpdateForm\">\r\n            <div className=\"userUpdateLeft\">\r\n              <div className=\"userUpdateItem\">\r\n                <label>Profile picture</label>\r\n                <img src={user?.img} alt={user?.username}\r\n                  style={{\r\n                    backgroundColor: 'hsl(0, 0%, 90%)',\r\n                    transition: 'background-color 300ms',  \r\n                    borderRadius: '50%',  \r\n                    width: '80px',\r\n                    height: '80px'                \r\n                  }}\r\n                  referrerPolicy=\"no-referrer\"\r\n                />\r\n              </div>\r\n              {!user?.loginByGoogle && (\r\n              <div className=\"userUpdateItem\">\r\n                <label>Username</label>\r\n                <input\r\n                  type=\"text\" id='username' name='username' \r\n                  placeholder={user?.username}\r\n                  defaultValue={user?.username}\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              )}\r\n              {user?.loginByGoogle && (\r\n              <div className=\"userUpdateItem\">\r\n                <label>Logged by:</label>\r\n                <Google/>\r\n              </div>\r\n              )}\r\n              {!user?.loginByGoogle && (\r\n              <div className=\"userUpdateItem\">\r\n                <label>Password</label>\r\n                <div style={{display: 'flex', width: '100%', flexWrap: 'wrap'}}>\r\n                <input\r\n                  type=\"password\" id='password' name='password' \r\n                  placeholder={password}\r\n                  defaultValue={password}\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                  style={{marginRight: '50px'}} \r\n                />\r\n                {!isPassVisible ? (\r\n                <VisibilityRoundedIcon onClick={()=>handleClick()}/>\r\n                ) : (\r\n                <VisibilityOffRoundedIcon onClick={()=>handleClick()}/>\r\n                )}\r\n                </div>\r\n              </div>\r\n              )}\r\n              <div className=\"userUpdateItem\">\r\n                <label>Email</label>\r\n                <input\r\n                  type=\"text\" id='email' name='email' \r\n                  placeholder={user?.email}\r\n                  defaultValue={user?.email}\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"userUpdateItem\">\r\n                <label>Phone</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"+84 123 456 67\"\r\n                  defaultValue=\"+84 123 456 67\"\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n              <div className=\"userUpdateItem\">\r\n                <label>Address</label>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Hanoi | Vietnam\"\r\n                  defaultValue=\"Hanoi | Vietnam\"\r\n                  className=\"userUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div>\r\n            </div>\r\n            {/* <div className=\"userUpdateRight\">\r\n              <div className=\"userUpdateUpload\">\r\n                <img\r\n                  className=\"userUpdateImg\"\r\n                  src={user?.img || \"https://crowd-literature.eu/wp-content/uploads/2015/01/no-avatar.gif\"}\r\n                  alt=\"\"\r\n                />\r\n                <label htmlFor=\"file\">\r\n                  <Publish className=\"userUpdateIcon\" />\r\n                </label>\r\n                <input type=\"file\" id=\"file\" style={{ display: \"none\" }} />\r\n              </div>\r\n              <button className=\"userUpdateButton\">Update</button>\r\n            </div> */}\r\n          </form>\r\n        </div>\r\n\r\n        <OrderList/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {useEffect} from 'react';\r\nimport Announcement from '../components/Announcement';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Newsletter from '../components/Newsletter';\r\nimport UserProfile from '../components/UserProfile';\r\n\r\nconst Account = () => {\r\n  useEffect(()=> {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    }); \r\n  },[])\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <UserProfile/>\r\n    <Newsletter/>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import {\r\n  CalendarToday,\r\n  MailOutline,\r\n  PermIdentity,\r\n  PhoneAndroid,\r\n} from \"@material-ui/icons\";\r\nimport MapIcon from '@mui/icons-material/Map';\r\nimport LocationOnIcon from '@mui/icons-material/LocationOn';\r\nimport NumbersIcon from '@mui/icons-material/Numbers';\r\nimport MonetizationOnRoundedIcon from '@mui/icons-material/MonetizationOnRounded';\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport \"./order-detail.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Inventory2RoundedIcon from '@mui/icons-material/Inventory2Rounded';\r\nimport { userRequest, publicRequest } from \"../requestMethods\";\r\n\r\nexport default function Order() {\r\n  const location = useLocation();\r\n  const orderId = location.pathname.split(\"/\")[3];\r\n  const [order, setOrder] = useState()\r\n  const user = useSelector((state) => state.user?.currentUser);  \r\n  const [products, setProducts] = useState([])\r\n\r\n  const columns = [\r\n    window.innerWidth > 700 && { field: \"_id\", headerName: \"ID\", width: 260 },\r\n    {\r\n      field: \"product\",\r\n      headerName: \"Product\",\r\n      width: window.innerWidth > 700 ? 210 : 190,\r\n      renderCell: (params) => {\r\n        return (\r\n          <div className=\"productListItem\">\r\n            <img className=\"productListImg\" \r\n              src={\r\n                params.row.img[0]\r\n              } alt={params.row.title}\r\n            />\r\n            <p>{params.row.title}</p>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      field: \"price\",\r\n      headerName: window.innerWidth > 700 ? \"Price\" : 'đ',\r\n      renderCell: (params) =>{\r\n        return(\r\n          <div style={{textAlign: 'center', width: '100%'}}>\r\n            <p>{params.row.price+' '}</p>\r\n            {/* &#8363; */}\r\n          </div>\r\n        )\r\n      },\r\n      width: window.innerWidth > 700 ? 150 : 80,\r\n    },\r\n    {\r\n      field: \"quantity\",\r\n      headerName: window.innerWidth > 700 ? \"Quantity\" : 'N',\r\n      renderCell: (params) =>{\r\n        return(\r\n          <div style={{textAlign: 'center', width: '100%'}}>\r\n            <p>{params.row.quantity}</p>\r\n          </div>\r\n        )\r\n      },\r\n      width: window.innerWidth > 700 ? 160 : 50,\r\n    },\r\n    {\r\n      field: \"action\",\r\n      headerName: \"Action\",\r\n      width: window.innerWidth > 700 ? 150 : 60,\r\n      renderCell: (params) => {\r\n        return (\r\n          <div style={{display: 'flex', justifyContent: 'center', width: '100%'}}>\r\n            <Link to={\"/product/\" + params.row._id}>\r\n              <button className=\"productListEdit\">View</button>\r\n            </Link>\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n  ]; \r\n  \r\n  useEffect(()=>{\r\n    const getOrder = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"/orders/\"+orderId+'/'+user?._id);\r\n        setOrder(res.data);\r\n      } catch(err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    !order && getOrder();\r\n\r\n    const getProducts = async ()=>{\r\n      let prodsTemp = [];\r\n      const orderProds = order?.products\r\n      for( let i=0; i<orderProds?.length; i++){\r\n        try {\r\n          const res = await publicRequest.get(\"/products/find/\"+orderProds[i].productId);\r\n          prodsTemp.push({...res.data, quantity: order.products[i].quantity})\r\n        } catch(err) {\r\n          console.dir(err);\r\n        }\r\n      }\r\n      \r\n      prodsTemp.length === orderProds?.length && setProducts(prodsTemp)\r\n    }\r\n    products.length === 0 && getProducts()\r\n  }, [orderId, order, user, products])\r\n\r\n  return (\r\n    <div className=\"order\">\r\n      <div className=\"orderTitleContainer\">\r\n        <h1 className=\"orderTitle\">View Order</h1>\r\n      </div>\r\n      <div className=\"orderContainer\">\r\n        <div className=\"orderShow\">\r\n          <div className=\"orderShowBottom\">\r\n            <span className=\"orderShowTitle\">Status</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <Inventory2RoundedIcon className='orderShowIcon'  />\r\n              <button className={\"widgetLgButton \" + order?.status}>{\r\n                order?.status\r\n              }</button> \r\n            </div> \r\n            <span className=\"orderShowTitle\">Buyer Details</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <PermIdentity className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.userId}</span>\r\n            </div>\r\n            {order?.address?.name && (\r\n            <div className=\"orderShowInfo\">\r\n              <PermIdentity className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.address?.name}</span>\r\n            </div>\r\n            )}\r\n\r\n            <span className=\"orderShowTitle\">Order Details</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <NumbersIcon className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?._id}</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <MonetizationOnRoundedIcon className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.amount}</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <CalendarToday className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.updatedAt}</span>\r\n            </div>   \r\n\r\n            <span className=\"orderShowTitle\">Delivery Details</span>\r\n\r\n            <div className=\"orderShowInfo\">\r\n              <PermIdentity className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{order?.address?.name}</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              {(order?.address?.city || order?.address?.country || order?.address?.state) \r\n              ? (\r\n                <>\r\n                <MapIcon className=\"orderShowIcon\" />\r\n                <span className=\"orderShowInfoTitle\">{\r\n                  order?.address?.country+' '+order?.address?.city\r\n                }</span>  \r\n                </>              \r\n              ) : (\r\n                <>\r\n                <PhoneAndroid className=\"orderShowIcon\" />\r\n                <span className=\"orderShowInfoTitle\">{\r\n                  order?.address?.phone\r\n                }</span> \r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <MailOutline className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{\r\n                order?.address?.postal_code || order?.address?.email\r\n              }</span>\r\n            </div>\r\n            <div className=\"orderShowInfo\">\r\n              <LocationOnIcon className=\"orderShowIcon\" />\r\n              <span className=\"orderShowInfoTitle\">{\r\n                order?.address?.address || (order?.address?.line1 || order?.address?.line2)\r\n              }</span>\r\n            </div>           \r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"orderUpdate\">\r\n          <span className=\"orderUpdateTitle\">Products Info</span>\r\n          <form className=\"orderUpdateForm\">\r\n            <div className=\"orderUpdateLeft\">\r\n              {/* <div className=\"orderUpdateItem\">\r\n                <label>Order id</label>\r\n                <input\r\n                  type=\"text\" id='orderId' name='orderId' \r\n                  defaultValue={order?._id}\r\n                  className=\"orderUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div> */}\r\n              <div className=\"orderUpdateItem\">\r\n                <label>Products list</label>\r\n\r\n              </div>\r\n              {products && (\r\n              <DataGrid\r\n                rows={products}\r\n                disableSelectionOnClick\r\n                columns={columns}\r\n                getRowId={(row) => row._id}\r\n                rowsPerPageOptions={[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 100]}\r\n              />\r\n              )}                \r\n              {/* <div className=\"orderUpdateItem\">\r\n                <label>Amount</label>\r\n                <input\r\n                  type=\"text\" id='amount' name='amount' \r\n                  defaultValue={order?.amount}\r\n                  className=\"orderUpdateInput\"\r\n                  readOnly\r\n                />\r\n              </div> */}\r\n              {/* <div className=\"orderUpdateItem\">\r\n                <label>Status</label>\r\n                <select name=\"inStock\" id=\"stock\" \r\n                  className={\"widgetLgButton \"+order?.status} \r\n                  defaultValue={order?.status}\r\n                  onChange={(e)=>{\r\n                    setOrder((prev)=>{\r\n                      let obj = {...prev}\r\n                      obj.status = e.target.value\r\n                      return {...obj}\r\n                    })\r\n                  }}\r\n                >\r\n                  <option value=\"pending\" className={\"widgetLgButton pending\"}>\r\n                    Pending\r\n                  </option>\r\n                  <option value=\"approved\" className={\"widgetLgButton approved\"}>\r\n                    Approved\r\n                  </option>\r\n                  <option value=\"declined\" className={\"widgetLgButton declined\"}>\r\n                    Declined\r\n                  </option>\r\n                </select>    \r\n              </div>\r\n              <div className=\"orderUpdateItem\">\r\n                <button className=\"updateButton\" onClick={(e)=>{handleUpdate(e)}}>Update</button>\r\n              </div> */}\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import {useEffect} from 'react';\r\nimport Announcement from '../components/Announcement';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Newsletter from '../components/Newsletter';\r\nimport OrderDetail from '../components/OrderDetail';\r\n\r\nconst AccountOrder = () => {\r\n  useEffect(()=> {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    }); \r\n  },[])\r\n\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <OrderDetail/>\r\n    <Newsletter/>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountOrder;\r\n","import Product from \"./pages/Product\";\r\nimport Home from \"./pages/Home\";\r\nimport ProductList from \"./pages/ProductList\";\r\nimport Cart from \"./pages/Cart\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport Success from \"./pages/Success\";\r\nimport Momo from \"./pages/MomoResult\";\r\nimport { useSelector} from 'react-redux'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes as Switch,\r\n  Route,\r\n  Navigate\r\n} from \"react-router-dom\";\r\nimport './App.css'\r\nimport Account from \"./pages/Account\";\r\nimport AccountOrder from \"./pages/AccountOrder\";\r\n\r\n\r\nconst App = () => {\r\n  const user = useSelector((state) => state.user.currentUser);\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" element={<Home/>}/>\r\n        <Route exact path=\"/products\" element={<ProductList/>}/>\r\n        <Route exact path=\"/products/:category\" element={<ProductList/>}/>\r\n        <Route exact path=\"/product/:id\" element={<Product/>}/>\r\n        <Route exact path=\"/login\" element={\r\n          user ? <Navigate to={-1} /> : <Login/>\r\n        }/>\r\n        <Route exact path=\"/register\" element={\r\n          user ? <Navigate to={-1} /> : <Register/>\r\n        }/>\r\n        <Route exact path=\"/logout\" element={<Home/>}/>\r\n        <Route exact path=\"/cart\" element={<Cart/>}/>\r\n        {user && (\r\n          <Route exact path=\"/account/order/:orderId\" element={<AccountOrder/>}/>\r\n        )}\r\n        {user && (\r\n          <Route exact path=\"/account\" element={<Account/>}/>\r\n        )}\r\n        {user && (\r\n          <Route exact path=\"/success\" element={<Success/>}/>\r\n        )}\r\n        {user && (\r\n          <Route exact path=\"/resultMomo\" element={<Momo/>}/>\r\n        )}\r\n        <Route exact path=\"/*\" element={<Navigate to='/'/>}/>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n};\r\n\r\nexport default App;","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport cartReducer from \"./cartRedux\";\r\nimport userReducer from \"./userRedux\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst persistConfig = {\r\n    key: \"root\",\r\n    version: 1,\r\n    storage,\r\n  };\r\n  \r\nconst rootReducer = combineReducers({ user: userReducer, cart: cartReducer });\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n    reducer: persistedReducer,\r\n\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      }),\r\n})\r\n\r\nexport let persistor = persistStore(store);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux'\r\nimport {store, persistor} from './redux/store'\r\nimport {PersistGate} from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  //redux\r\n  <Provider store = {store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst userRedux = createSlice({\r\n    name:'user',\r\n    initialState: {\r\n        currentUser: null,\r\n        isFetching: false,\r\n        error: false\r\n    },\r\n    reducers: {\r\n        loginStart: (state) => {\r\n            state.isFetching = true\r\n        },\r\n        loginSuccess: (state, action) => {\r\n            state.isFetching = false\r\n            state.currentUser = action.payload\r\n        },\r\n        loginFailure: (state) => {\r\n            state.isFetching = false\r\n            state.error = true\r\n        },\r\n        logout: (state) => {\r\n            state.currentUser = null;\r\n            state.isFetching = false;\r\n            state.error = false;\r\n        },\r\n\r\n        registerStart: (state) => {\r\n            state.isFetching = true\r\n        },\r\n        registerSuccess: (state) => {\r\n            state.isFetching = false\r\n            state.error = false\r\n        },\r\n        registerFailure: (state) => {\r\n            state.isFetching = false\r\n            state.error = true\r\n        },   \r\n        \r\n        reset: (state) =>{\r\n            state.currentUser= null\r\n            state.isFetching= false\r\n            state.error= false\r\n        }\r\n    }\r\n})\r\n\r\nexport const {loginStart, loginSuccess, loginFailure, logout, registerStart, registerFailure, registerSuccess, reset} = userRedux.actions\r\nexport default userRedux.reducer;","import styled from \"styled-components\"\r\n\r\nconst Container = styled.div`\r\n    height: 30px;\r\n    background-color: teal;\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    margin-top: 70px;\r\n`\r\n\r\nconst Announcement = () => {\r\n    return (\r\n        <Container>\r\n            Super Deal! Free Shipping on Orders Over $50\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Announcement\r\n","import { useEffect } from 'react';\r\nimport './notification.css'\r\n\r\n// source from f8 (fullstack.edu.vn)\r\nconst Notification = ({ title = \"\", message = \"\", type = \"info\", duration = 10000 }) => {\r\n\r\n  useEffect(()=> {\r\n    // Toast function\r\n    function toast() {\r\n      const main = document.getElementById(\"toast\");\r\n      if (main) {\r\n        const toast = document.createElement(\"div\");\r\n\r\n        // Auto remove toast\r\n        const autoRemoveId = window.setTimeout(function () {\r\n          main.removeChild(toast);\r\n        }, duration + 1000);\r\n\r\n        // Remove toast when clicked\r\n        toast.onclick = function (e) {\r\n          if (e.target.closest(\".toast__close\")) {\r\n            main.removeChild(toast);\r\n            window.clearTimeout(autoRemoveId);\r\n          }\r\n        };\r\n\r\n        const icons = {\r\n          success: \"fas fa-check-circle\",\r\n          info: \"fas fa-info-circle\",\r\n          warning: \"fas fa-exclamation-circle\",\r\n          error: \"fas fa-exclamation-circle\",\r\n        };\r\n        const icon = icons[type];\r\n        const delay = (duration / 1000).toFixed(2);\r\n\r\n        toast.classList.add(\"toast\", `toast--${type}`);\r\n        toast.style.animation = `slideInLeft ease .5s, fadeOut linear 1s ${delay}s forwards`;\r\n\r\n        toast.innerHTML = `\r\n                      <div class=\"toast__icon\">\r\n                          <i class=\"${icon}\"></i>\r\n                      </div>\r\n                      <div class=\"toast__body\">\r\n                          <h3 class=\"toast__title\">${title}</h3>\r\n                          <p class=\"toast__msg\">${message}</p>\r\n                      </div>\r\n                      <div class=\"toast__close\">\r\n                          <i class=\"fas fa-times\"></i>\r\n                      </div>\r\n                  `;\r\n        main.appendChild(toast);\r\n        return;\r\n      }\r\n    }\r\n\r\n    title !=='' && message !== '' && toast()\r\n  }, [duration, message, title, type])\r\n\r\n  // function showSuccessToast() {\r\n  //   toast({\r\n  //     title: \"Thành công!\",\r\n  //     message: \"Bạn đã đăng ký thành công tài khoản tại F8.\",\r\n  //     type: \"warning\",\r\n  //     duration: 5000,\r\n  //   });\r\n  // }\r\n\r\n  return (\r\n      <div id=\"toast\"></div>\r\n  );\r\n};\r\n\r\nexport default Notification;\r\n","import { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {ArrowUpwardRounded} from \"@material-ui/icons\";\r\n\r\nconst Button = styled.button`\r\n  display: none;\r\n  width: 50px;\r\n  height: 50px;\r\n  padding: 10px;\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: grey;\r\n  color: white;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  border: none;\r\n  box-shadow: 0 5px 10px #ccc;\r\n  z-index: 3;\r\n  opacity: 0.6;\r\n  transition: all 0.5s ease;\r\n  &:hover{\r\n      opacity: 1.0;\r\n      transform: scale(1.1);\r\n      background: #008080;\r\n  }\r\n`\r\n\r\nconst GoToTop = () => {\r\n  // The back-to-top button is hidden at the beginning\r\n  const btnRef = useRef();\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", () => {\r\n      if(btnRef.current){\r\n        if (window.pageYOffset > 300) {\r\n          btnRef.current.style.display = 'block';\r\n        } else {\r\n          btnRef.current.style.display = 'none';\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // This function will scroll the window to the top \r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth' // for smoothly scrolling\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Button onClick={scrollToTop} ref={btnRef}>\r\n      <ArrowUpwardRounded/>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GoToTop;","import styled from \"styled-components\";\r\nimport {\r\n  Facebook,\r\n  Instagram,\r\n  Twitter,\r\n  Pinterest,\r\n  Room,\r\n  Mail,\r\n  Phone,\r\n} from \"@material-ui/icons\";\r\nimport { mobile } from \"../responsive\";\r\nimport GoToTop from \"./GoToTop\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useState } from \"react\";\r\nimport Notification from \"../components/Notification\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  background-color: white;\r\n  ${mobile({ flexDirection: \"column\" })}\r\n`;\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding: 20px;\r\n`;\r\nconst Logo = styled.h1``;\r\nconst Desc = styled.div`\r\n  margin: 20px 0px;\r\n`;\r\nconst SocialContainer = styled.div`\r\n  display: flex;\r\n`;\r\nconst SocialIcon = styled.div`\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50%;\r\n  color: white;\r\n  background-color: #${(props) => props.color};\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 20px;\r\n`;\r\n\r\nconst Center = styled.div`\r\n  flex: 1;\r\n  padding: 20px;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\nconst Title = styled.h3`\r\n  margin-bottom: 30px;\r\n`;\r\nconst List = styled.ul`\r\n  margin: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n`;\r\nconst ListItem = styled.li`\r\n  width: 50%;\r\n  margin-bottom: 10px;\r\n`;\r\nconst Right = styled.div`\r\n  flex: 1;\r\n  padding: 20px;\r\n  ${mobile({ backgroundColor: \"#fff8f8\" })}\r\n`;\r\nconst ContactItem = styled.div`\r\n  margin-bottom: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\nconst Payment = styled.img`\r\n  width: 40px;\r\n  height: 40px;\r\n`;\r\n\r\nconst Footer = () => {\r\n  const user = useSelector((state) => state.user);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [type, setType] = useState(\"info\");\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const authorize = async () => {\r\n      try {\r\n        const res = await userRequest.get(\"/auth/authorize\");\r\n        if (res?.data === \"Logged in\") {\r\n          // setMessage(\"Hello \"+user?.currentUser.username);\r\n          // setType(\"success\");\r\n          // setTitle(\"Welcome\");\r\n        }\r\n      } catch (err) {\r\n        console.dir(err);\r\n        if (err?.response?.data === \"Token is not valid!\") {\r\n          setMessage(\"You are not logged in <br/> or your login session has expired<br/>, please login again\");\r\n          setType(\"warning\");\r\n          setTitle(\"Notice\");\r\n        }\r\n        if (err?.response?.status === 401) {\r\n          setMessage(\"You are not logged in\");\r\n          setType(\"warning\");\r\n          setTitle(\"Notice\");\r\n        }\r\n      }\r\n    };\r\n\r\n    authorize();\r\n  }, [user]);\r\n\r\n  return (\r\n    <Container>\r\n      <Notification title={title} message={message} type={type} />\r\n      <GoToTop />\r\n      <Left>\r\n        <Logo>ROBOS</Logo>\r\n        <Desc>\r\n          Curabitur gravida nisi at nibh. In hac habitasse platea dictumst.\r\n          Aliquam augue quam, sollicitudin vitae , consectetuer eget, rutrum at,\r\n          lorem.\r\n        </Desc>\r\n        <SocialContainer>\r\n          <SocialIcon color=\"3b5999\">\r\n            <Facebook />\r\n          </SocialIcon>\r\n          <SocialIcon color=\"e4405f\">\r\n            <Instagram />\r\n          </SocialIcon>\r\n          <SocialIcon color=\"55acee\">\r\n            <Twitter />\r\n          </SocialIcon>\r\n          <SocialIcon color=\"e60023\">\r\n            <Pinterest />\r\n          </SocialIcon>\r\n        </SocialContainer>\r\n      </Left>\r\n      <Center>\r\n        <Title>Useful Links</Title>\r\n        <List>\r\n          <ListItem>Home</ListItem>\r\n          <ListItem>Cart</ListItem>\r\n          <ListItem>Transformers</ListItem>\r\n          <ListItem>Marvel</ListItem>\r\n          <ListItem>DC-Comic</ListItem>\r\n          <ListItem>Accessories</ListItem>\r\n          <ListItem>My Account</ListItem>\r\n          <ListItem>Order Tracking</ListItem>\r\n          <ListItem>WishList</ListItem>\r\n          <ListItem>Terms</ListItem>\r\n        </List>\r\n      </Center>\r\n      <Right>\r\n        <Title>Contact</Title>\r\n        <ContactItem>\r\n          <Room style={{ marginRight: \"10px\" }} /> Ha Noi, Viet Nam\r\n        </ContactItem>\r\n        <ContactItem>\r\n          <Phone style={{ marginRight: \"10px\" }} /> +84 123 456 789\r\n        </ContactItem>\r\n        <ContactItem>\r\n          <Mail style={{ marginRight: \"10px\" }} /> contact@robos.com\r\n        </ContactItem>\r\n        <Payment src=\"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png\" />\r\n      </Right>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst playlist = [\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/ArrivalToEarthOSTTransformers-Stev_bmn2.mp3?alt=media&token=25341daa-7e6e-445c-bfd8-8261b7c3e4be',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/The%20Flash%20Theme%20At%20The%20Speed%20Of%20Force_%20-.mp3?alt=media&token=2a1d26ac-109b-44e7-b22d-d9352803718a',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/TheAvengers-AlanSilvestri_3zzk.mp3?alt=media&token=0614e088-84a9-4c07-94ed-9df9a8544ab2',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/Sixteen%20Hundred%20Men%20_%201917%20OST-192k.mp3?alt=media&token=68c7348c-e112-48c9-a751-928ddc115568',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/johan_soderqvist-Under_No_Flag_Gratomic.com_2.mp3?alt=media&token=14ddfed2-bd4a-43bc-9af1-375a486e2aed',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/The%20Dark%20Knight%20-%20Ending.mp3?alt=media&token=b3eb52b8-3e9e-4619-92f5-6e0b3d6cbf90',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/IronMan3-BrianTyler-2508732.mp3?alt=media&token=c7409679-d031-46e3-954e-203209403025',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/Inception%20Soundtrack%20HD%20-%20%2312%20Time%20(Hans%20Zimmer).mp3?alt=media&token=b9e2acde-ab73-455b-8039-2ecfad1ee769',\r\n]\r\nconst Music = ({category}) => {\r\n  const [track, setTrack] = useState(category);\r\n  const [isTrackChanged, setIsTrackChanged] = useState(false);\r\n  const currentPage = window.location.href.split('/')[3];\r\n  const categoryAtUrl = window.location.href.split('/')[4];\r\n  const audioTag = useRef();\r\n\r\n  const playNextTrack = ()=>{\r\n    let index = playlist.indexOf(track)\r\n\r\n    if(index >= 0 && index <= playlist.length - 2){\r\n      setTrack(playlist[index+1])\r\n      setIsTrackChanged(true)\r\n    }\r\n    if(index === playlist.length - 1){\r\n      setTrack(playlist[0])\r\n      setIsTrackChanged(true)\r\n    }\r\n  }\r\n  \r\n  useEffect(()=>{\r\n    if(!categoryAtUrl && !isTrackChanged)\r\n    switch (category) {\r\n      case 'Transformers':\r\n        setTrack(playlist[0]);\r\n        break;\r\n      case 'DC-Comics':\r\n        setTrack(playlist[1]);\r\n        break;\r\n      case 'Marvel':\r\n        setTrack(playlist[2]);\r\n        break;\r\n      default:\r\n        setTrack(!currentPage.includes('product') \r\n          ? playlist[Math.floor(Math.random() * (8 - 3) + 3)] \r\n          : null);\r\n        break;\r\n    }\r\n    if(categoryAtUrl && !isTrackChanged)\r\n    switch (categoryAtUrl) {\r\n      case 'Transformers':\r\n        setTrack(playlist[0]);\r\n        break;\r\n      case 'DC-Comics':\r\n        setTrack(playlist[1]);\r\n        break;\r\n      case 'Marvel':\r\n        setTrack(playlist[2]);\r\n        break;\r\n      default:\r\n        setTrack(!currentPage.includes('product') \r\n          ? playlist[Math.floor(Math.random() * (8 - 3) + 3)] \r\n          : null);\r\n        break;\r\n    }\r\n    \r\n    let timeout = setTimeout(()=>{\r\n      if(audioTag?.current?.volume) {\r\n        audioTag.current.volume = 0.05; \r\n        window.clearInterval(timeout)\r\n      }\r\n    }, 100)\r\n\r\n    if(isTrackChanged && track){\r\n      const source = document.getElementById('music-source')\r\n      source.src = track;\r\n      audioTag.current.load()\r\n      audioTag.current.play()\r\n    }\r\n  }, [category, currentPage, audioTag, categoryAtUrl, isTrackChanged, track])\r\n\r\n  const handleMouseOver = ()=>{\r\n    document.querySelector('#music-player').style.transform = 'translate(0%, 0%)'\r\n  }\r\n\r\n  const handleMouseOut = ()=>{\r\n    document.querySelector('#music-player').style.transform = 'translateX(calc(100% - 45px))'\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {track && (\r\n      <audio\r\n        ref={audioTag}\r\n        id='music-player'\r\n        autoPlay={true}\r\n        controls\r\n        volume= '0.05'\r\n        onMouseOver={handleMouseOver}\r\n        onMouseOut={handleMouseOut}\r\n        onEnded={playNextTrack}\r\n        style={{\r\n          width: '25vw',\r\n          position: 'fixed',\r\n          top: '70px',\r\n          right: '0',\r\n          zIndex: '999',\r\n          transform: 'translateX(calc(100% - 45px))',\r\n          transition: 'all 0.5s ease',\r\n        }}\r\n      >\r\n        <source\r\n          id='music-source'\r\n          src= {track}\r\n          type=\"audio/mpeg\"\r\n        />\r\n      </audio>\r\n    )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Music;\r\n","import styled from \"styled-components\";\r\nimport ShoppingCartRoundedIcon from \"@mui/icons-material/ShoppingCartRounded\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\nimport Box from \"@mui/material/Box\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport LoginRoundedIcon from \"@mui/icons-material/LoginRounded\";\r\nimport LogoutRoundedIcon from \"@mui/icons-material/LogoutRounded\";\r\nimport PersonAddAltRoundedIcon from \"@mui/icons-material/PersonAddAltRounded\";\r\nimport PersonRoundedIcon from \"@mui/icons-material/PersonRounded\";\r\nimport { GoogleLogout } from \"react-google-login\";\r\nimport Button from \"@mui/material/Button\";\r\nimport MenuRoundedIcon from \"@mui/icons-material/MenuRounded\";\r\nimport Menu from \"@mui/material/Menu\";\r\n// import MenuItem from '@mui/material/MenuItem';\r\nimport { logout } from \"../redux/userRedux\";\r\nimport { mobile } from \"../responsive\";\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport Music from \"./Music\";\r\nimport Notification from \"./Notification\";\r\nimport \"./navbar.css\";\r\n\r\nconst Container = styled.div`\r\n  ${mobile({ padding: \"10px 0px\" })}\r\n  position: fixed;\r\n  z-index: 2000;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  height: 70px;\r\n  background-color: white;\r\n`;\r\nconst Wrapper = styled.div`\r\n  padding: 10px 20px;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  ${mobile({ padding: '0px 20px'})}\r\n`;\r\n\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n\r\n  ${mobile({ flex: 2 })}\r\n`;\r\n\r\nconst Language = styled.span`\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 25px;\r\n  width: 60%;\r\n  ${mobile({ width: \"90%\", marginLeft: \"0px\" })}\r\n`;\r\n\r\nconst SearchLabel = styled.label`\r\n  display: none;\r\n  font-size: 12px;\r\n  margin-right: 5px;\r\n  ${mobile({ display: \"block\" })}\r\n`;\r\n\r\nconst Center = styled.div`\r\n  flex: 1;\r\n  text-align: center;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Logo = styled.h1`\r\n  font-weight: bold;\r\n  ${mobile({ fontSize: \"24px\" })}\r\n`;\r\n\r\nconst Right = styled.div`\r\n  margin-right: 10px;\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  transition: all 0.5s ease;\r\n  ${mobile({ flex: 2, justifyContent: \"center\", marginRight: \"0px\" })}\r\n`;\r\n\r\nconst MenuItem = styled.div`\r\n  display: flex;\r\n  ${'' /* justify-content: center; */}\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  font-size: 15px;\r\n  cursor: pointer;\r\n  ${'' /* margin-left: 25px; */}\r\n  margin: 10px;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n  ${mobile({\r\n    fontSize: \"12px\",\r\n    margin: \"10px\",\r\n    justifyContent: \"flex-start\",\r\n    alignItems: \"center\",\r\n  })}\r\n`;\r\n\r\nconst Navbar = ({ category }) => {\r\n  const quantity = useSelector((state) => state.cart.quantity);\r\n  const user = useSelector((state) => state.user?.currentUser);\r\n  const dispatch = useDispatch();\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const inputRef = useRef();\r\n  const centerRef = useRef();\r\n  const rightRef = useRef();\r\n  const [notifyMes, setNotifyMes] = useState(\"\");\r\n  const [notifyType, setNotifyType] = useState(\"info\");\r\n  const [notifyTitle, setNotifyTitle] = useState(\"\");\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    if(!anchorEl){\r\n      document.getElementById('root').style.opacity = 0.5;\r\n      setAnchorEl(event.currentTarget)\r\n    } else {\r\n      document.getElementById('root').style.opacity = 1;\r\n      setAnchorEl(null);\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    document.getElementById('root').style.opacity = 1;\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  //for device width <= 700\r\n  const disableCenterRight = () => {\r\n    if (window.innerWidth <= 700) {\r\n      if (inputRef.current) {\r\n        inputRef.current.style.width = \"80vw\";\r\n      }\r\n      if (centerRef.current?.childNodes) {\r\n        // centerRef.current.style.display = 'none'\r\n        centerRef.current.style.opacity = \"0\";\r\n      }\r\n      if (rightRef.current?.childNodes) {\r\n        // rightRef.current.style.display = 'none'\r\n        rightRef.current.style.opacity = \"0\";\r\n      }\r\n    } else {\r\n      inputRef.current.style.width = \"30vw\";\r\n    }\r\n  };\r\n\r\n  //for device width <= 700\r\n  const displayCenterRight = () => {\r\n    if (window.innerWidth <= 700) {\r\n      if (inputRef.current) {\r\n        inputRef.current.style.width = \"100%\";\r\n      }\r\n      if (centerRef.current?.childNodes) {\r\n        // centerRef.current.style.display = 'block'\r\n        centerRef.current.style.opacity = \"1\";\r\n      }\r\n      if (rightRef.current?.childNodes) {\r\n        // rightRef.current.style.display = 'flex'\r\n        rightRef.current.style.opacity = \"1\";\r\n      }\r\n    } else {\r\n      inputRef.current.style.width = \"100%\";\r\n    }\r\n  };\r\n\r\n  const handleLogout = (e) => {\r\n    e && e.preventDefault();\r\n    setNotifyMes(\"You are logged out\");\r\n    setNotifyType(\"warning\");\r\n    setNotifyTitle(\"Notice\");\r\n    dispatch(logout());\r\n  };\r\n\r\n  useEffect(() => {\r\n    const search = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products\");\r\n        setSearchResults(res.data);\r\n      } catch (err) {\r\n        console.dir(err);\r\n        setSearchResults([]);\r\n      }\r\n    };\r\n    search();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Notification\r\n        title={notifyTitle}\r\n        message={notifyMes}\r\n        type={notifyType}\r\n        duration={5000}\r\n      />\r\n      <Music category={category} />\r\n      <Wrapper>\r\n        <Left>\r\n          <Language>EN</Language>\r\n          <SearchContainer\r\n            style={\r\n              window.innerWidth < 1000 ? { width: \"90%\" } : { width: \"60%\" }\r\n            }\r\n          >\r\n            <SearchLabel>Search:</SearchLabel>\r\n            <Stack spacing={0} className=\"stack\" sx={{ width: \"100%\" }}>\r\n              <Autocomplete\r\n                id=\"search-products\"\r\n                freeSolo\r\n                // options={searchResults.map((option) => option.title)}\r\n                options={searchResults}\r\n                autoHighlight\r\n                getOptionLabel={(option) => option.title}\r\n                renderOption={(props, option) => (\r\n                  <Box\r\n                    component=\"li\"\r\n                    sx={{ \"& > img\": { mr: 2, flexShrink: 0 } }}\r\n                    {...props}\r\n                  >\r\n                    <Link\r\n                      to={`/product/${option._id}`}\r\n                      className=\"link\"\r\n                      style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <img\r\n                        loading=\"lazy\"\r\n                        height={\r\n                          window.innerWidth > 700\r\n                            ? window.innerWidth / 10 + \"px\"\r\n                            : window.innerWidth / 4 + \"px\"\r\n                        }\r\n                        src={option.img[0]}\r\n                        alt=\"\"\r\n                        style={{ flex: \"1\" }}\r\n                      />\r\n                      <div style={{ flex: \"1\", marginLeft: \"10px\" }}>\r\n                        {option.title}\r\n                        <br />\r\n                        {option.price} &#8363;\r\n                      </div>\r\n                    </Link>\r\n                  </Box>\r\n                )}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    ref={inputRef}\r\n                    onFocus={disableCenterRight}\r\n                    onBlur={displayCenterRight}\r\n                    {...params}\r\n                    label=\"search\"\r\n                  />\r\n                )}\r\n              />\r\n            </Stack>\r\n          </SearchContainer>\r\n        </Left>\r\n        <Center ref={centerRef}>\r\n          <Logo>\r\n            <Link to=\"/\" className=\"link\">\r\n              <b>Figures</b>\r\n            </Link>\r\n          </Logo>\r\n        </Center>\r\n        <Right ref={rightRef}>\r\n          {/* {window.innerWidth < 700 && ( */}\r\n            <Button\r\n              id=\"basic-button\"\r\n              aria-controls={open ? \"basic-menu\" : undefined}\r\n              aria-haspopup=\"true\"\r\n              aria-expanded={open ? \"true\" : undefined}\r\n              onClick={handleClick}              \r\n              // style={window.innerWidth > 700 ? {\r\n              //   // width: '170px', \r\n              //   display: 'flex', \r\n              //   justifyContent: 'flex-end',\r\n              //   border: 'none',\r\n              //   backgroundColor: 'inherit',\r\n              //   color: 'gray'\r\n              // } : {}}             \r\n            >\r\n              <MenuRoundedIcon/>\r\n            </Button>\r\n          {/* )} */}\r\n          <Menu\r\n            id=\"basic-menu\"\r\n            anchorEl={anchorEl}\r\n            open={open}\r\n            onClose={handleClose}\r\n            MenuListProps={{\r\n              \"aria-labelledby\": \"basic-button\",\r\n            }}\r\n          >\r\n            {!user?._id ? (\r\n              <div>\r\n                <Link to=\"/login\" className=\"link\">\r\n                  <MenuItem onClick={handleClose}>\r\n                    <LoginRoundedIcon />\r\n                    LOG IN\r\n                  </MenuItem>\r\n                </Link>\r\n                <Link to=\"/register\" className=\"link\">\r\n                  <MenuItem onClick={handleClose}>\r\n                    <PersonAddAltRoundedIcon />\r\n                    REGISTER\r\n                  </MenuItem>\r\n                </Link>\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {user?.loginByGoogle ? (\r\n                  <MenuItem onClick={handleClose}>\r\n                    <GoogleLogout\r\n                      clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\r\n                      buttonText=\"Logout\"\r\n                      onLogoutSuccess={handleLogout}\r\n                    ></GoogleLogout>\r\n                  </MenuItem>\r\n                ) : (\r\n                  <Link to=\"/logout\" onClick={handleLogout} className=\"link\">\r\n                    <MenuItem onClick={handleClose}>\r\n                      <LogoutRoundedIcon />\r\n                      LOG OUT\r\n                    </MenuItem>\r\n                  </Link>\r\n                )}\r\n                <Link to=\"/account\" className=\"link\">\r\n                  <MenuItem onClick={handleClose}>\r\n                    <PersonRoundedIcon />\r\n                    YOUR ACCOUNT\r\n                  </MenuItem>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </Menu>\r\n          <Link to=\"/cart\">\r\n            <MenuItem>\r\n              <Badge badgeContent={quantity} color=\"primary\">\r\n                <ShoppingCartRoundedIcon style={{ color: \"#008080\" }} />\r\n              </Badge>\r\n            </MenuItem>\r\n          </Link>\r\n        </Right>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst cartSlice = createSlice({\r\n    name:'cart',\r\n    initialState: {\r\n        products: [],\r\n        quantity: 0,\r\n        total: 0,\r\n        address: {}\r\n    },\r\n    reducers: {\r\n        addProduct: (state, action)=>{\r\n            const found = state.products.find(\r\n                element => element._id === action.payload._id\r\n            )\r\n            if(found){\r\n                found.quantity += action.payload.quantity\r\n            }\r\n            else{\r\n                state.products.push(action.payload)\r\n            }\r\n            state.quantity += action.payload.quantity;\r\n            state.total += action.payload.price * action.payload.quantity;\r\n        },\r\n\r\n        removeProduct: (state, action)=> {\r\n            const found = state.products.find(\r\n                element => element._id === action.payload._id\r\n            )\r\n            if(found){\r\n                found.quantity -= action.payload.quantity\r\n                if(found.quantity <= 0){\r\n                    state.products.splice(state.products.indexOf(found), 1);\r\n                }\r\n                state.quantity -= action.payload.quantity;\r\n                state.total -= action.payload.price * action.payload.quantity;            \r\n            }\r\n        },\r\n\r\n        removeCart: (state, action) => {\r\n            state.products = [];\r\n            state.quantity = 0;\r\n            state.total = 0;\r\n            state.address = {};\r\n        },\r\n\r\n        setAddressCart: (state, action) =>{\r\n            state.address = action.payload.address;\r\n        }\r\n    }\r\n})\r\n\r\nexport const {addProduct, removeCart, removeProduct, setAddressCart} = cartSlice.actions\r\nexport default cartSlice.reducer;"],"sourceRoot":""}