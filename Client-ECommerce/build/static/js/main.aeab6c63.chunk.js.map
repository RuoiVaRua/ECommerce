{"version":3,"sources":["pages/MomoResult.jsx","requestMethods.js","components/Announcement.jsx","responsive.js","components/GoToTop.jsx","components/Footer.jsx","redux/userRedux.js","components/Music.jsx","components/Navbar.jsx","components/Newsletter.jsx","pages/Product.jsx","data.js","components/CategoryItem.jsx","components/Categories.jsx","components/Product.jsx","components/Products.jsx","components/Slider.jsx","pages/Home.jsx","pages/ProductList.jsx","components/DeliveryDetail.jsx","components/SelectPayment.jsx","pages/Cart.jsx","redux/apiCalls.js","pages/Login.jsx","pages/Register.jsx","pages/Success.jsx","pages/Account.jsx","App.jsx","redux/store.js","index.js","redux/cartRedux.js"],"names":["Momo","useState","resultMessage","setResultMessage","useSearchParams","searchParams","dispatch","useDispatch","cart","useSelector","state","currentUser","user","orderId","setOrderId","crypto","require","params","sort","forEach","value","key","parent","substring","length","signature","createHmac","process","update","digest","useEffect","get","address","Buffer","from","toString","createOrder","a","userRequest","post","_id","userId","products","map","item","productId","quantity","amount","total","JSON","parse","res","data","removeCart","window","history","replaceState","console","dir","style","height","display","flexDirection","alignItems","justifyContent","to","padding","marginTop","BASE_URL","localStorage","getItem","TOKEN","accessToken","publicRequest","axios","create","baseURL","headers","token","Container","styled","div","Announcement","mobile","props","css","Button","button","GoToTop","btnRef","useRef","addEventListener","current","pageYOffset","onClick","scrollTo","top","behavior","ref","ArrowUpwardRounded","Left","Logo","h1","Desc","SocialContainer","SocialIcon","color","Center","Title","h3","List","ul","ListItem","li","Right","backgroundColor","ContactItem","Payment","img","Footer","Facebook","Instagram","Twitter","Pinterest","Room","marginRight","Phone","Mail","src","userRedux","createSlice","name","initialState","isFetching","error","reducers","loginStart","loginSuccess","action","payload","loginFailure","logout","actions","playlist","Music","category","track","setTrack","currentPage","location","href","split","useLayoutEffect","includes","Math","floor","random","audioTag","document","querySelector","volume","id","autoPlay","controls","loop","onMouseOver","transform","onMouseOut","width","position","right","zIndex","transition","type","Wrapper","flex","Language","span","SearchContainer","marginLeft","SearchLabel","label","fontSize","MenuItem","Navbar","searchResults","setSearchResults","inputRef","centerRef","rightRef","disableCenterRight","innerWidth","childNodes","displayCenterRight","search","Stack","spacing","className","sx","Autocomplete","freeSolo","options","autoHighlight","getOptionLabel","option","title","renderOption","Box","component","mr","flexShrink","loading","alt","price","renderInput","TextField","onFocus","onBlur","e","preventDefault","Badge","badgeContent","ShoppingCartOutlined","Description","textAlign","InputContainer","Newsletter","hasError","setHasError","handleMail","mailInput","RegExp","test","userMail","alert","focus","required","variant","helperText","Send","ImgContainer","maxWidth","margin","Arrow","direction","Image","maxHeight","ImgLen","ImgZoomed","imgZoomMarginLeft","distanceImgToTop","InfoContainer","p","Price","OptionContainer","AddContainer","AmountContainer","Amount","Product","useLocation","pathname","product","setProduct","setQuantity","setImgZoomMarginLeft","setDistanceToTop","browserWidth","setBrowserWidth","getElementsByClassName","imgState","setImgState","imgLensState","setImgLensState","getElementById","imgZoomedState","setImgZoomedState","imgIndex","setImgIndex","handleQuantity","zoomOut","lens","zoomIn","result","cx","cy","pos","x","y","offsetWidth","offsetHeight","backgroundImage","backgroundSize","event","getBoundingClientRect","pageX","left","pageY","pageXOffset","getCursorPos","backgroundPosition","interval","setInterval","clearInterval","interval2","imgTag","imgContainer","carouselArrow","naturalHeight","naturalWidth","parentNode","realImgHeight","getProduct","next","now","prev","changeOnFirstRender","onChange","changeImg","index","fullHeightHover","animation","duration","swipe","IndicatorIcon","opacity","objectFit","indicatorIconButtonProps","activeIndicatorIconButtonProps","navButtonsProps","NavButton","ArrowRightOutlined","ArrowLeftOutlined","onMouseMove","desc","Remove","Add","addProduct","sliderItems","bg","categories","Info","CategoryItem","Categories","page","minWidth","Circle","Icon","SearchOutlined","FavoriteBorderOutlined","PaginationContainer","Products","filters","setProducts","setPage","rowPerPage","totalPage","setTotalPage","ceil","getProducts","slice","Pagination","count","slideIndex","Slide","InforContainer","Slider","setSlideIndex","handleClick","Home","FilterContainer","Filter","FilterText","Select","select","Option","ProductList","categoryPath","selectRef","setFilters","pathName","pushState","i","innerText","selectedIndex","handleFilters","target","defaultValue","DeliveryDetail","displayDelivery","setDisplayDelivery","setAddress","errors","setErrors","addressObj","setAddressObj","input","textarea","setAddressCart","CloseRounded","m","noValidate","autoComplete","multiline","maxRows","phone","email","note","nameRegex","addressRegex","phoneRegex","emailRegex","SelectPayment","setStripeToken","navigate","useNavigate","clickedPayment","setClickedPayment","payUrl","response","callMomoApi","image","billingAddress","shippingAddress","description","stripeKey","currency","Top","TopButton","TopTexts","TopText","Bottom","ProductDetail","Details","DeleteContainer","DeleteButton","ProductName","ProductId","ProductType","ProductPrice","PriceDetail","ProductQuantityContainer","DeleteButtonMobile","ProductQuantity","ProductAmount","marginBottom","Hr","hr","Summary","SummaryTitle","SummaryItem","SummaryItemText","SummaryItemPrice","Cart","stripeToken","checkout","find","element","removeProduct","removeFromCart","confirm","tokenId","stripeData","makeStripeRequest","DeleteForeverOutlined","login","Form","form","Input","Link","Error","Login","username","setUsername","password","setPassword","placeholder","disabled","Agreement","Register","Success","billing_details","Account","App","exact","path","persistConfig","version","storage","rootReducer","combineReducers","userReducer","cartReducer","persistedReducer","persistReducer","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","cartSlice","found","push","splice","indexOf"],"mappings":"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","file":"static/js/main.aeab6c63.chunk.js","sourcesContent":["import { Link, useSearchParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport {useDispatch} from 'react-redux'\r\nimport {removeCart} from '../redux/cartRedux'\r\n\r\nfunction Momo() {\r\n  const [resultMessage, setResultMessage] = useState('')\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const accessKey = process.env.REACT_APP_MOMO_ACCESS_KEY;\r\n  const secretKey = process.env.REACT_APP_MOMO_SECRET_KEY;\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((state) => state.cart);\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [orderId, setOrderId] = useState(null);\r\n  const crypto = require(\"crypto\");\r\n  \r\n  // get raw signature from query parameters\r\n  let params = '';\r\n  searchParams.sort();\r\n  searchParams.forEach((value, key, parent)=>{\r\n    if(key !== 'signature'){\r\n      params += key+'='+value+'&';\r\n    }\r\n  })\r\n  params = 'accessKey='+accessKey+'&'\r\n    +params.substring(0, params.length -1);\r\n    \r\n  // create our signature\r\n  const signature = crypto\r\n    .createHmac(\"sha256\", secretKey)\r\n    .update(params)\r\n    .digest(\"hex\");\r\n\r\n  useEffect(()=> {\r\n    // set result message by resultCode\r\n    setResultMessage(\r\n      searchParams.get('resultCode')*1 === 0\r\n        ? 'Thanh toán thành công'\r\n        : 'Thanh toán thất bại'\r\n    )\r\n    //compare our signature and received signature\r\n    if(signature !== searchParams.get('signature')){\r\n      setResultMessage('Thông tin request không hợp lệ')\r\n    } \r\n    \r\n    // decode address\r\n    let address = Buffer.from(\r\n      searchParams.get('extraData'), 'base64'\r\n    ).toString('utf8')\r\n      \r\n    // create order, remove cart after creating order\r\n    const createOrder = async () => {\r\n      try {\r\n        const res = await userRequest.post(\"/orders\", {\r\n          _id: searchParams.get('orderId'),\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total + 20000,\r\n          address: JSON.parse(address),\r\n        });\r\n        \r\n        setOrderId(res.data._id);\r\n        dispatch(removeCart())\r\n\r\n        // delete cart redux state if user reload page\r\n        window.history.replaceState({}, '');\r\n      } catch(err) {\r\n        console.dir(err)\r\n      }\r\n    };\r\n    searchParams.get('resultCode')*1 === 0 \r\n      && cart?.total !== 0 \r\n      && currentUser?._id\r\n      && createOrder();\r\n  }, [searchParams, signature, currentUser, cart, dispatch])\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <p>{resultMessage}</p>\r\n      <p>{orderId\r\n        ? `Order has been created successfully. Your order number is ${orderId}`\r\n        : `Successful. Your order is being prepared...`}</p>\r\n      <Link to=\"/\">\r\n        <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Momo;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://figures-shop-api.herokuapp.com/api';\r\n// const BASE_URL = \"http://localhost:5000/api/\";\r\n\r\nconst user = JSON.parse(localStorage.getItem(\"persist:root\"))?.user;\r\nconst currentUser = user && JSON.parse(user).currentUser;\r\nconst TOKEN = currentUser?.accessToken;\r\n\r\nexport const publicRequest = axios.create({\r\n    baseURL : BASE_URL,\r\n})\r\n\r\nexport const userRequest = axios.create({\r\n    baseURL: BASE_URL,\r\n    headers: { token: `Bearer ${TOKEN}` }\r\n})","import styled from \"styled-components\"\r\n\r\nconst Container = styled.div`\r\n    height: 30px;\r\n    background-color: teal;\r\n    color: white;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 14px;\r\n    font-weight: 500;\r\n    margin-top: 60px;\r\n`\r\n\r\nconst Announcement = () => {\r\n    return (\r\n        <Container>\r\n            Super Deal! Free Shipping on Orders Over $50\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Announcement\r\n","import {css} from 'styled-components'\r\n\r\nexport const mobile = (props) => {\r\n    return css`\r\n        @media only screen and (max-width: 700px){\r\n            ${props};\r\n        }\r\n    `;\r\n};","import { useEffect, useRef } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {ArrowUpwardRounded} from \"@material-ui/icons\";\r\n\r\nconst Button = styled.button`\r\n  display: none;\r\n  width: 50px;\r\n  height: 50px;\r\n  padding: 10px;\r\n  position: fixed;\r\n  bottom: 20px;\r\n  right: 20px;\r\n  background: grey;\r\n  color: white;\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  border: none;\r\n  box-shadow: 0 5px 10px #ccc;\r\n  z-index: 3;\r\n  opacity: 0.6;\r\n  transition: all 0.5s ease;\r\n  &:hover{\r\n      opacity: 1.0;\r\n      transform: scale(1.1);\r\n      background: #008080;\r\n  }\r\n`\r\n\r\nconst GoToTop = () => {\r\n  // The back-to-top button is hidden at the beginning\r\n  const btnRef = useRef();\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", () => {\r\n      if(btnRef.current){\r\n        if (window.pageYOffset > 300) {\r\n          btnRef.current.style.display = 'block';\r\n        } else {\r\n          btnRef.current.style.display = 'none';\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  // This function will scroll the window to the top \r\n  const scrollToTop = () => {\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth' // for smoothly scrolling\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Button onClick={scrollToTop} ref={btnRef}>\r\n      <ArrowUpwardRounded/>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GoToTop;","import styled from \"styled-components\";\r\nimport { Facebook, Instagram, Twitter, Pinterest, Room, Mail, Phone } from \"@material-ui/icons\";\r\nimport { mobile } from \"../responsive\";\r\nimport GoToTop from \"./GoToTop\";\r\n// import { useSelector } from \"react-redux\";\r\n// import { useEffect } from \"react\";\r\n// import { userRequest } from \"../requestMethods\";\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    ${mobile({flexDirection: 'column'})}\r\n`;\r\nconst Left = styled.div`\r\n    flex: 1;\r\n    display: flex;\r\n    flex-direction: column;\r\n    padding: 20px;\r\n`;\r\nconst Logo = styled.h1`\r\n`;\r\nconst Desc = styled.div`\r\n    margin: 20px 0px;\r\n`;\r\nconst SocialContainer = styled.div`\r\n    display: flex;\r\n`;\r\nconst SocialIcon = styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    color: white;\r\n    background-color: #${(props) => props.color};\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-right: 20px;\r\n`;\r\n\r\nconst Center = styled.div`\r\n    flex: 1;\r\n    padding: 20px;\r\n    ${mobile({display: 'none'})}\r\n`;\r\nconst Title = styled.h3`\r\n    margin-bottom: 30px;\r\n`;\r\nconst List = styled.ul`\r\n    margin: 0;\r\n    padding: 0;\r\n    list-style: none;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n`;\r\nconst ListItem = styled.li`\r\n    width: 50%;\r\n    margin-bottom: 10px;\r\n`;\r\nconst Right = styled.div`\r\n    flex: 1;\r\n    padding: 20px;\r\n    ${mobile({backgroundColor: '#fff8f8'})}\r\n`;\r\nconst ContactItem = styled.div`\r\n    margin-bottom: 20px;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\nconst Payment = styled.img`\r\n    width: 40px;\r\n    height: 40px;    \r\n`;\r\n\r\nconst Footer = () => {\r\n    // const user = useSelector((state) => state.user)\r\n\r\n    // useEffect(()=>{\r\n    //     const getUserOrders = async()=>{\r\n    //         try {\r\n    //           const res = await userRequest.get(\"/orders/find/\"+user?.currentUser?._id);\r\n    //         } catch (err) {\r\n    //         //   console.dir(err);\r\n    //           if(err.response.data === 'Token is not valid!'){\r\n    //               window.alert('You was not login or your login session is expired')\r\n    //           }\r\n    //           if(err.response.status === 401){\r\n    //               window.alert('You was not login')\r\n    //           }\r\n    //         }\r\n    //       }\r\n    \r\n    //       getUserOrders();        \r\n    // }, [user])\r\n\r\n    return (\r\n        <Container>\r\n            <GoToTop/>\r\n            <Left>\r\n                <Logo>ROBOS</Logo>\r\n                <Desc>\r\n                    Curabitur gravida nisi at nibh. In hac habitasse platea\r\n                    dictumst. Aliquam augue quam, sollicitudin vitae ,\r\n                    consectetuer eget, rutrum at, lorem.\r\n                </Desc>\r\n                <SocialContainer>\r\n                    <SocialIcon color=\"3b5999\">\r\n                        <Facebook />\r\n                    </SocialIcon>\r\n                    <SocialIcon color=\"e4405f\">\r\n                        <Instagram />\r\n                    </SocialIcon>\r\n                    <SocialIcon color=\"55acee\">\r\n                        <Twitter />\r\n                    </SocialIcon>\r\n                    <SocialIcon color=\"e60023\">\r\n                        <Pinterest />\r\n                    </SocialIcon>\r\n                </SocialContainer>\r\n            </Left>\r\n            <Center>\r\n                <Title>Useful Links</Title>\r\n                <List>\r\n                    <ListItem>Home</ListItem>\r\n                    <ListItem>Cart</ListItem>\r\n                    <ListItem>Transformers</ListItem>\r\n                    <ListItem>Marvel</ListItem>\r\n                    <ListItem>DC-Comic</ListItem>\r\n                    <ListItem>Accessories</ListItem>\r\n                    <ListItem>My Account</ListItem>\r\n                    <ListItem>Order Tracking</ListItem>\r\n                    <ListItem>WishList</ListItem>\r\n                    <ListItem>Terms</ListItem>\r\n                </List>\r\n            </Center>\r\n            <Right>\r\n                <Title>Contact</Title>\r\n                <ContactItem><Room style={{marginRight:\"10px\"}}/> Ha Noi, Viet Nam</ContactItem>\r\n                <ContactItem><Phone style={{marginRight:\"10px\"}}/> +84 123 456 789</ContactItem>\r\n                <ContactItem><Mail style={{marginRight:\"10px\"}}/> contact@robos.com</ContactItem>\r\n                <Payment src=\"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png\"/>\r\n            </Right>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst userRedux = createSlice({\r\n    name:'user',\r\n    initialState: {\r\n        currentUser: null,\r\n        isFetching: false,\r\n        error: false\r\n    },\r\n    reducers: {\r\n        loginStart: (state) => {\r\n            state.isFetching = true\r\n        },\r\n        loginSuccess: (state, action) => {\r\n            state.isFetching = false\r\n            state.currentUser = action.payload\r\n        },\r\n        loginFailure: (state) => {\r\n            state.isFetching = false\r\n            state.error = true\r\n        },\r\n        logout: (state) => {\r\n            state.currentUser = null;\r\n            state.isFetching = false;\r\n            state.error = false;\r\n        }\r\n    }\r\n})\r\n\r\nexport const {loginStart, loginSuccess, loginFailure, logout} = userRedux.actions\r\nexport default userRedux.reducer;","import { useLayoutEffect, useState } from \"react\";\r\n\r\nconst playlist = [\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/ArrivalToEarthOSTTransformers-Stev_bmn2.mp3?alt=media&token=25341daa-7e6e-445c-bfd8-8261b7c3e4be',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/The%20Flash%20Theme%20At%20The%20Speed%20Of%20Force_%20-.mp3?alt=media&token=2a1d26ac-109b-44e7-b22d-d9352803718a',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/TheAvengers-AlanSilvestri_3zzk.mp3?alt=media&token=0614e088-84a9-4c07-94ed-9df9a8544ab2',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/Sixteen%20Hundred%20Men%20_%201917%20OST-192k.mp3?alt=media&token=68c7348c-e112-48c9-a751-928ddc115568',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/johan_soderqvist-Under_No_Flag_Gratomic.com_2.mp3?alt=media&token=14ddfed2-bd4a-43bc-9af1-375a486e2aed',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/RiseTheDarkKnightRisesOst-HansZi_443ms.mp3?alt=media&token=b6fab5be-6d1d-40a9-8339-f26f8b250e02',\r\n  'https://firebasestorage.googleapis.com/v0/b/figures-shop-f6bdb.appspot.com/o/IronMan3-BrianTyler-2508732.mp3?alt=media&token=c7409679-d031-46e3-954e-203209403025',\r\n]\r\nconst Music = ({category}) => {\r\n  const [track, setTrack] = useState(category);\r\n  const currentPage = window.location.href.split('/')[3];\r\n  \r\n  useLayoutEffect(()=>{\r\n    switch (category) {\r\n      case 'Transformers':\r\n        setTrack(playlist[0]);\r\n        break;\r\n      case 'DC-Comics':\r\n        setTrack(playlist[1]);\r\n        break;\r\n      case 'Marvel':\r\n        setTrack(playlist[2]);\r\n        break;\r\n      default:\r\n        setTrack(!currentPage.includes('product') \r\n          ? playlist[Math.floor(Math.random() * (7 - 3) + 3)] \r\n          : null);\r\n        break;\r\n    }\r\n    \r\n    let audioTag = document.querySelector('#music-player');\r\n    if(audioTag?.volume) audioTag.volume = 0.1;\r\n  }, [category, currentPage])\r\n\r\n  const handleMouseOver = ()=>{\r\n    document.querySelector('#music-player').style.transform = 'translate(0%, 0%)'\r\n  }\r\n\r\n  const handleMouseOut = ()=>{\r\n    document.querySelector('#music-player').style.transform = 'translateX(calc(100% - 45px))'\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {track && (\r\n      <audio\r\n        id='music-player'\r\n        autoPlay\r\n        controls\r\n        loop\r\n        volume= '0.1'\r\n        onMouseOver={handleMouseOver}\r\n        onMouseOut={handleMouseOut}\r\n        style={{\r\n          width: '25vw',\r\n          position: 'fixed',\r\n          top: '60px',\r\n          right: '0',\r\n          zIndex: '999',\r\n          transform: 'translateX(calc(100% - 45px))',\r\n          transition: 'all 0.5s ease',\r\n          '@media only screen and (maxWidth: 700px)':{\r\n            width: '50vw'\r\n          }\r\n        }}\r\n      >\r\n        <source\r\n          src= {track}\r\n          type=\"audio/mpeg\"\r\n        />\r\n      </audio>\r\n    )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Music;\r\n","import styled from \"styled-components\";\r\nimport { ShoppingCartOutlined } from \"@material-ui/icons\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport Autocomplete from \"@mui/material/Autocomplete\";\r\nimport Box from '@mui/material/Box';\r\nimport { Badge } from \"@material-ui/core\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRef } from \"react\";\r\nimport LoginRoundedIcon from '@mui/icons-material/LoginRounded';\r\nimport LogoutRoundedIcon from '@mui/icons-material/LogoutRounded';\r\nimport PersonAddAltRoundedIcon from '@mui/icons-material/PersonAddAltRounded';\r\nimport PersonRoundedIcon from '@mui/icons-material/PersonRounded';\r\nimport { logout } from \"../redux/userRedux\";\r\nimport { mobile } from \"../responsive\";\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport Music from \"../components/Music\";\r\nimport \"./navbar.css\";\r\n\r\nconst Container = styled.div`\r\n  height: 60px;\r\n  ${mobile({ padding: \"10px 0px\" })}\r\n  position: fixed;\r\n  z-index: 2000;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  overflow: hidden;\r\n  height: 60px;\r\n  background-color: white;\r\n`;\r\nconst Wrapper = styled.div`\r\n  padding: 10px 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Left = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  ${mobile({ flex: 2 })}\r\n`;\r\n\r\nconst Language = styled.span`\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 25px;\r\n  width: 60%;\r\n  ${mobile({ width: '90%', marginLeft: '0px' })}\r\n`;\r\n\r\nconst SearchLabel = styled.label`\r\n  display: none;\r\n  font-size: 10px;\r\n  margin-right: 5px;\r\n  ${mobile({ display: \"block\" })}\r\n`\r\n\r\nconst Center = styled.div`\r\n  flex: 1;\r\n  text-align: center;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Logo = styled.h1`\r\n  font-weight: bold;\r\n  ${mobile({ fontSize: \"24px\" })}\r\n`;\r\n\r\nconst Right = styled.div`\r\n  margin-right: 10px;\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: flex-end;\r\n  ${mobile({ flex: 3, justifyContent: \"center\", marginRight: '0px' })}\r\n`;\r\n\r\nconst MenuItem = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 12px;\r\n  cursor: pointer;\r\n  margin-left: 25px;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n  ${mobile({ fontSize: \"10px\", marginLeft: \"10px\" })}\r\n`;\r\n\r\nconst Navbar = ({category}) => {\r\n  const quantity = useSelector((state) => state.cart.quantity);\r\n  const user = useSelector((state) => state.user?.currentUser)\r\n  const dispatch = useDispatch();\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const inputRef = useRef();\r\n  const centerRef = useRef();\r\n  const rightRef = useRef();\r\n\r\n  //for device width <= 700\r\n  const disableCenterRight = ()=>{\r\n    if(window.innerWidth <= 700 ){\r\n      if(centerRef.current?.childNodes){\r\n          centerRef.current.style.display = 'none'\r\n      }\r\n      if(rightRef.current?.childNodes){\r\n        rightRef.current.style.display = 'none'\r\n      }\r\n      if(inputRef.current){\r\n          inputRef.current.style.width = '80vw'\r\n      }\r\n    }\r\n  }\r\n  \r\n  //for device width <= 700\r\n  const displayCenterRight = ()=>{\r\n    if(window.innerWidth <= 700 ){\r\n      if(centerRef.current?.childNodes){\r\n          centerRef.current.style.display = 'block'\r\n      }\r\n      if(rightRef.current?.childNodes){\r\n        rightRef.current.style.display = 'flex'\r\n      }\r\n      if(inputRef.current){\r\n        inputRef.current.style.width = '100%'\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleLogout = (e) => {\r\n    e.preventDefault();\r\n    dispatch(logout());\r\n  };\r\n\r\n  useEffect(() => {\r\n    const search = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products\");\r\n        setSearchResults(res.data);\r\n      } catch (err) {\r\n        console.dir(err);\r\n        setSearchResults([]);\r\n      }\r\n    };\r\n    search();\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Music category={category}/>\r\n      <Wrapper>\r\n        <Left>\r\n          <Language>EN</Language>\r\n          <SearchContainer style={\r\n              window.innerWidth<1000 ? {width: '90%'} : {width: '60%'}\r\n            }>\r\n            <SearchLabel>Search:</SearchLabel>\r\n            <Stack spacing={0} className=\"stack\" sx={{ width: '100%' }}>\r\n              <Autocomplete\r\n                id=\"search-products\"\r\n                freeSolo\r\n                // options={searchResults.map((option) => option.title)}\r\n                options={searchResults}\r\n                autoHighlight\r\n                getOptionLabel={(option) => option.title}\r\n                renderOption={(props, option) => (\r\n                    <Box component=\"li\" sx={{ '& > img': { mr: 2, flexShrink: 0 } }} {...props}>\r\n                      <img\r\n                        loading=\"lazy\"\r\n                        width={\r\n                            window.innerWidth <= 900 && window.innerWidth > 700\r\n                            ? '45px'\r\n                            : '80px'\r\n                        }\r\n                        src={option.img}\r\n                        alt=\"\"\r\n                      />\r\n                      {option.title}<br/>\r\n                      {option.price} &#8363;\r\n                    </Box>\r\n                  )}\r\n                renderInput={(params) => (\r\n                  <TextField \r\n                    ref={inputRef}\r\n                    onFocus={disableCenterRight}\r\n                    onBlur={displayCenterRight}\r\n                    {...params} \r\n                    label=\"search\"\r\n                  />\r\n                )}\r\n              />\r\n            </Stack>\r\n          </SearchContainer>\r\n        </Left>\r\n        <Center ref={centerRef}>\r\n          <Logo>\r\n            <Link to=\"/\" className=\"link\">\r\n              <b>Robos</b>\r\n            </Link>\r\n          </Logo>\r\n        </Center>\r\n        <Right ref={rightRef}>\r\n          {!user?._id\r\n            ? (\r\n              <>\r\n              <Link to=\"/login\" className=\"link\">\r\n                <MenuItem><LoginRoundedIcon/>LOG IN</MenuItem>\r\n              </Link>\r\n              <Link to=\"/register\" className=\"link\">\r\n                <MenuItem><PersonAddAltRoundedIcon/>REGISTER</MenuItem>\r\n              </Link>\r\n              </>\r\n            )\r\n            : (\r\n              <>\r\n              <Link to=\"/logout\" onClick={handleLogout} className=\"link\">\r\n                <MenuItem><LogoutRoundedIcon/>LOG OUT</MenuItem>\r\n              </Link>\r\n              <Link to=\"/account\" className=\"link\">\r\n                <MenuItem><PersonRoundedIcon/>YOUR ACCOUNT</MenuItem>\r\n              </Link>\r\n              </>\r\n            )\r\n          }\r\n          <Link to=\"/cart\">\r\n            <MenuItem>\r\n              <Badge badgeContent={quantity} color=\"primary\">\r\n                <ShoppingCartOutlined />\r\n              </Badge>\r\n            </MenuItem>\r\n          </Link>\r\n        </Right>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { Send } from '@material-ui/icons'\r\nimport styled from 'styled-components'\r\nimport {useState} from 'react'\r\nimport { mobile } from '../responsive'\r\nimport TextField from \"@mui/material/TextField\"\r\nimport { publicRequest } from '../requestMethods'\r\n\r\nconst Container = styled.div`\r\n    height: 60vh;\r\n    background-color: #fcf5f5;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n`\r\nconst Title = styled.h1`\r\n    font-size: 70px;\r\n    margin-bottom: 20px;\r\n`\r\nconst Description = styled.div`\r\n    fon-size: 24px;\r\n    font-weight: 300;\r\n    margin-bottom: 20px;\r\n    ${mobile({textAlign: 'center'})}\r\n`\r\nconst InputContainer = styled.div`\r\n    width: 40%;\r\n    height: 40px;\r\n    background-color: #fcf5f5;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    ${'' /* border: 1px solid lightgray; */}\r\n    ${mobile({width: '80%'})}\r\n`\r\n// const Input = styled.input`\r\n//     border: none;\r\n//     flex: 8;\r\n//     padding-left: 20px;\r\n// `\r\nconst Button = styled.button`\r\n    margin-left: 10px;\r\n    height: 50px;\r\n    width: 15%;\r\n    border: none;\r\n    border-radius: 5px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        background-color: #00a6a6;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\nconst Newsletter = () => {\r\n    const [hasError, setHasError] = useState(false)\r\n    \r\n    const handleMail = async () => {\r\n        const mailInput = document.querySelector('#user-mail');\r\n        const emailRegex = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n\r\n        if(!emailRegex.test(mailInput.value)){\r\n            setHasError(true)\r\n            mailInput.focus()\r\n        }else{\r\n            setHasError(false)\r\n            \r\n            try{\r\n                const res = publicRequest.post('/mail', {userMail: mailInput.value})\r\n                if(res){\r\n                    window.alert('We sent a mail to your email, thanks for trusted our service')\r\n                    mailInput.value=''\r\n                }\r\n            } catch(e) {\r\n                console.dir(e)\r\n                window.alert('An error has occurred, sorry for this inconvenience')\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Title>Newsletter</Title>\r\n            <Description>Get timely updates from your favorite products.</Description>\r\n            <InputContainer>\r\n                <TextField\r\n                    required\r\n                    id=\"user-mail\"\r\n                    label=\"Your Mail\"\r\n                    variant=\"filled\"\r\n                    color= {hasError ? 'error' : \"primary\"}\r\n                    error = {hasError}\r\n                    helperText={\r\n                        hasError \r\n                        ? \"Your inputted mail wasn't correct yet. Email example: abc@mail.com\" \r\n                        : ''\r\n                    }\r\n                />\r\n                <Button onClick={handleMail}>\r\n                    <Send/>\r\n                </Button>\r\n            </InputContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Newsletter\r\n","import { Add, Remove } from \"@material-ui/icons\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport Carousel from 'react-material-ui-carousel'\r\nimport { ArrowLeftOutlined, ArrowRightOutlined } from \"@material-ui/icons\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport { addProduct } from \"../redux/cartRedux\";\r\nimport { publicRequest } from \"../requestMethods\";\r\nimport { mobile } from \"../responsive\";\r\n\r\nconst Container = styled.div``;\r\nconst Wrapper = styled.div`\r\n  padding: 50px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${mobile({ padding: \"10px\", flexDirection: \"column\" })}\r\n`;\r\nconst ImgContainer = styled.div`\r\n  height: 100vh;\r\n  max-width: 49%;\r\n  ${'' /* width: 40%; */}\r\n  flex: 1;\r\n  ${'' /* margin-right: 50px; */}\r\n  ${mobile({ maxWidth: '100%', width: '100%', height: '70vh', margin: '30px 0px'})}\r\n`;\r\nconst Arrow = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: ${(props) => props.direction === \"left\" && \"10px\"};\r\n    right: ${(props) => props.direction === \"right\" && \"10px\"};\r\n    margin: auto;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n    z-index: 2;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`;\r\nconst Image = styled.img`\r\n  height: 90vh;\r\n  width: 100%;\r\n  object-fit: contain;\r\n  display: block;\r\n  margin: auto;\r\n  ${'' /* &:hover { transform: scale3d(1.1, 1.1, 1) } */}\r\n  ${mobile({ maxHeight: '70vh', height: \"100%\", width: '100% !important'})}\r\n`;\r\nconst ImgLen = styled.div`\r\n  display: none;\r\n  position: absolute;\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  opacity: 0.5;\r\n  width: 200px;\r\n  height: 200px;\r\n  ${mobile({ display: 'none !important' })}\r\n`\r\nconst ImgZoomed = styled.div`\r\n  border: 1px solid #008080;\r\n  border-radius: 10px;\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  background-repeat: no-repeat;\r\n  margin: auto;\r\n  margin-left: ${(props) => props.imgZoomMarginLeft + 50}px;\r\n  margin-top: ${(props) => props.distanceImgToTop}px;\r\n  object-fit: cover;\r\n  ${mobile({ display: 'none !important' })}\r\n`\r\n\r\nconst InfoContainer = styled.div`\r\n  flex: 1;\r\n  max-width: 49%;\r\n  padding: 0px 50px;\r\n  ${mobile({ padding: \"10px\", maxWidth: '100%', width: '90%' })}\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst Title = styled.h1`\r\n  font-weight: 200;\r\n`;\r\nconst Desc = styled.p`\r\n  margin: 10px 0px;\r\n`;\r\nconst Price = styled.span`\r\n  font-weight: 100;\r\n  font-size: 40px;\r\n`;\r\n\r\nconst OptionContainer = styled.div`\r\n  width: 100%;\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n`;\r\n// const FilterContainer = styled.div`\r\n//     display: flex;\r\n//     align-items: center;\r\n//     flex: 1;\r\n// `\r\n// const FilterTitle = styled.span`\r\n//     font-size: 20px;\r\n//     font-weight: 200;\r\n// `\r\n// const FilterSelect= styled.select`\r\n//     cursor: pointer;\r\n//     margin-left: 10px;\r\n//     padding: 5px;\r\n// `\r\n// const FilterOption= styled.option`\r\n\r\n// `\r\n\r\nconst AddContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n`;\r\nconst AmountContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-weight: 700;\r\n  padding: 15px 5px 15px 0px;\r\n  @media only screen and (max-width: 700px) {\r\n    padding: 15px 0px;\r\n  }\r\n`;\r\nconst Amount = styled.span`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 10px;\r\n  border: 1px solid teal;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0px 5px;\r\n`;\r\nconst Button = styled.button`\r\n  padding: 5px;\r\n  border: 2px solid teal;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n    background-color: lightgray;\r\n  }\r\n`;\r\n\r\nconst Product = () => {\r\n  const location = useLocation();\r\n  const id = location.pathname.split(\"/\")[2];\r\n  const [product, setProduct] = useState({});\r\n  const [quantity, setQuantity] = useState(1);\r\n  const dispatch = useDispatch();\r\n  const [imgZoomMarginLeft, setImgZoomMarginLeft] = useState(0);\r\n  const [distanceImgToTop, setDistanceToTop] = useState(0);\r\n  // const [imgLeftSide, setImgLeftSide] = useState(0); // if img style width = 100%\r\n  const [browserWidth, setBrowserWidth] = useState(window.innerWidth); //if img style width = 100%\r\n  const [imgState, setImgState] = useState(document.getElementsByClassName(\"img-origin\")[0])\r\n  const [imgLensState, setImgLensState] = useState(document.getElementsByClassName(\"img-len\")[0])\r\n  const [imgZoomedState, setImgZoomedState] = useState(document.getElementById(\"img-zoomed\"))\r\n  const [imgIndex, setImgIndex] = useState(0)\r\n\r\n  const handleQuantity = (type) => {\r\n    if (type === \"asc\") setQuantity(quantity + 1);\r\n    if (type === \"desc\") quantity > 1 && setQuantity(quantity - 1);\r\n  };\r\n\r\n  const addToCart = () => {\r\n    dispatch(addProduct({ ...product, quantity }));\r\n  };\r\n\r\n  const changeImg = (now, prev) => {\r\n    zoomOut();\r\n    setImgState(document.getElementsByClassName(\"img-origin\")[now])\r\n    setImgLensState(document.getElementsByClassName(\"img-len\")[now])\r\n    setImgZoomedState(document.getElementsByClassName(\"img-zoomed\")[now])\r\n    setImgIndex(now)\r\n  }  \r\n\r\n  const zoomOut = () => {\r\n    let lens, result;\r\n    imgLensState ? lens = imgLensState : lens = document.getElementsByClassName(\"img-len\")[0];\r\n    imgZoomedState ? result = imgZoomedState : result = document.getElementById(\"img-zoomed\");\r\n    result.style.display = \"none\";\r\n    lens.style.display = 'none';\r\n  }\r\n\r\n  function zoomIn(e) {\r\n    e.preventDefault();\r\n    let img, lens, result, cx, cy;\r\n    imgState?.src ? img = imgState : img = document.getElementsByClassName(\"img-origin\")[0];\r\n    imgLensState ? lens = imgLensState : lens = document.getElementsByClassName(\"img-len\")[0];\r\n    imgZoomedState ? result = imgZoomedState : result = document.getElementById(\"img-zoomed\");\r\n    \r\n    lens.style.display = 'block';\r\n    result.style.display = \"inline-block\";\r\n    \r\n    result.style.width = (lens?.offsetWidth*2)+'px'\r\n    result.style.height = (lens?.offsetHeight*2)+'px'\r\n    \r\n    cx = result?.offsetWidth / lens?.offsetWidth;\r\n    cy = result?.offsetHeight / lens?.offsetHeight;\r\n    \r\n    result.style.backgroundImage = \"url('\" + img?.src + \"')\";\r\n    result.style.backgroundSize = (img?.width * cx) + \"px \" + (img?.height * cy) + \"px\";\r\n    \r\n    let pos, x, y;\r\n    pos = getCursorPos(e);\r\n    x = pos.x - (lens?.offsetWidth / 2);\r\n    y = pos.y - (lens?.offsetHeight / 2);\r\n\r\n    if (x > img?.width - lens?.offsetWidth) {x = img?.width - lens?.offsetWidth;}\r\n    if (x < 0) {x = 0;}\r\n    if (y > img?.height - lens?.offsetHeight) {y = img?.height - lens?.offsetHeight;}\r\n    if (y < 0) {y = 0;}\r\n\r\n    lens.style.left = x + /*imgLeftSide +*/ \"px\";\r\n    lens.style.top = y +\"px\";\r\n    result.style.backgroundPosition = \"-\" + (x * cx) + \"px -\" + (y * cy) + \"px\";\r\n\r\n    function getCursorPos(e) {\r\n        let a, x = 0, y = 0;\r\n        e = e || window.event;\r\n        a = img.getBoundingClientRect();\r\n        x = e.pageX - a.left;\r\n        y = e.pageY - a.top;\r\n        x = x - window.pageXOffset;\r\n        y = y - window.pageYOffset;\r\n        return {x : x, y : y};\r\n    }\r\n  } \r\n\r\n  useEffect(() => {\r\n    window.scrollTo({\r\n      top: 90,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    const interval = setInterval(() => {\r\n      if(browserWidth !== window.innerWidth){ \r\n        setBrowserWidth(window.innerWidth);\r\n        window.clearInterval(interval)\r\n      }\r\n    }, 1000)\r\n\r\n    const interval2 = setInterval(() => {\r\n      let imgTag = document.getElementsByClassName(\"img-origin\")[imgIndex];\r\n      let imgContainer = document.getElementById('img-container')\r\n      let carouselArrow = document.getElementById('carouselArrow')\r\n      \r\n      if(imgContainer \r\n          && imgTag \r\n          && (imgTag.naturalHeight / imgTag.naturalWidth > 1)\r\n        ){\r\n        // let realImgWidth = imgTag?.naturalWidth / (imgTag?.naturalHeight / imgTag?.offsetHeight)\r\n          \r\n        // setImgLeftSide((imgTag?.offsetWidth - realImgWidth) / 2)\r\n        setImgZoomMarginLeft(carouselArrow.parentNode.parentNode?.offsetWidth)\r\n        setDistanceToTop(window.pageYOffset + imgTag.getBoundingClientRect().top)\r\n\r\n        // imgTag.style.width = realImgWidth+'px';\r\n        window.clearInterval(interval2);\r\n      } \r\n      if(imgContainer \r\n          && imgTag \r\n          && (imgTag.naturalHeight / imgTag.naturalWidth <= 1) \r\n          && carouselArrow\r\n        ) {\r\n        let realImgHeight = imgTag.naturalHeight / (imgTag.naturalWidth / imgTag.offsetWidth)\r\n          \r\n        setImgZoomMarginLeft(carouselArrow.parentNode.parentNode?.offsetWidth)\r\n        setDistanceToTop(window.pageYOffset + imgTag.getBoundingClientRect().top)\r\n\r\n        imgTag.style.height = realImgHeight+'px'\r\n        imgContainer.style.height = realImgHeight+'px'\r\n        carouselArrow.parentNode.parentNode.style.height = realImgHeight+'px'\r\n        window.clearInterval(interval2);\r\n      }\r\n    }, 1000)\r\n\r\n    const getProduct = async () => {\r\n      try {\r\n        const res = await publicRequest.get(\"/products/find/\" + id);\r\n        setProduct(res.data);\r\n      } catch (err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n    getProduct();\r\n\r\n    return () => { setImgState(document.getElementById(\"img-origin\")) }\r\n  }, [id, imgIndex, browserWidth]);  \r\n\r\n  return (  \r\n    <Container>\r\n      <Navbar category={product?.category}/>\r\n      <Announcement />\r\n      <Wrapper>\r\n        <ImgContainer id='img-container'>\r\n          <Carousel\r\n            next={ (now, prev) => { } }\r\n            prev={ (now, prev) => { } }\r\n            changeOnFirstRender = {false}\r\n            onChange={ (now, prev) => { product?.img && changeImg(now, prev) }}\r\n            index={imgIndex}            \r\n            autoPlay={true}\r\n            fullHeightHover={false}\r\n            interval={10000}\r\n            animation='slide'\r\n            duration={800}\r\n            swipe={true}\r\n            IndicatorIcon={\r\n              product?.img?.map((value, index)=>(\r\n                <img \r\n                  src={product?.img[index]} \r\n                  width='100' \r\n                  height='100' \r\n                  alt='indicator'\r\n                  style={\r\n                    index === imgIndex \r\n                      ? {opacity: '1.0', objectFit: 'cover'}\r\n                      : {opacity: '0.6', objectFit: 'cover'}\r\n                  }\r\n                />\r\n              ))\r\n            }\r\n            indicatorIconButtonProps={{\r\n              style: {\r\n                padding: '0px 10px',    \r\n              }\r\n            }}\r\n            activeIndicatorIconButtonProps={{\r\n              style: {\r\n                opacity: '1.0'\r\n              }\r\n            }} \r\n            // indicatorContainerProps={{\r\n            //   style: {\r\n            //     marginTop: '20px',\r\n            //   }\r\n            // }}                       \r\n            navButtonsProps={{\r\n              style: {\r\n                margin: 'auto',\r\n                backgroundColor: '#008080',\r\n                opacity: '0.5',\r\n                transition: 'all 0.5s ease',\r\n                '&:hover':{\r\n                    opacity: '1.0',\r\n                    transform: 'scale(1.1)',\r\n                },\r\n              }\r\n            }}    \r\n            NavButton={({onClick, className, style, next, prev}) => {\r\n                return (\r\n                    <Arrow id='carouselArrow' onClick={onClick} className={className} style={style}>\r\n                        {next && <ArrowRightOutlined/>}\r\n                        {prev && <ArrowLeftOutlined/>}\r\n                    </Arrow>\r\n                )\r\n            }}                    \r\n          >\r\n            {product?.img?.map((value, index)=>(\r\n              <div key={index} style={{width: 'fit-content', margin: 'auto', position: 'relative' }}>\r\n              <Image\r\n                className='img-origin'\r\n                onMouseMove={(e) => {zoomIn(e)}}\r\n                src={product.img[index]} \r\n              />\r\n              <ImgLen\r\n                className='img-len'\r\n                onMouseMove={(e) => {zoomIn(e)}}  \r\n                onMouseOut={zoomOut}\r\n              />\r\n              </div>\r\n            ))}\r\n          </Carousel>\r\n          <ImgZoomed \r\n            id='img-zoomed' \r\n            imgZoomMarginLeft={imgZoomMarginLeft} \r\n            distanceImgToTop={distanceImgToTop}\r\n          />\r\n        </ImgContainer>\r\n        <InfoContainer>\r\n          <Title>{product.title}</Title>\r\n          <Desc>{product.desc}</Desc>\r\n          <Price>{product.price} &#8363;</Price>\r\n\r\n          <OptionContainer>\r\n            {/* <FilterContainer>\r\n                            <FilterTitle>Scale</FilterTitle>\r\n                            <FilterSelect>\r\n                                <FilterOption>1:10</FilterOption>\r\n                                <FilterOption>1:20</FilterOption>\r\n                                <FilterOption>1:30</FilterOption>\r\n                                <FilterOption>1:50</FilterOption>\r\n                            </FilterSelect>\r\n                        </FilterContainer> */}\r\n\r\n            <AddContainer>\r\n              <AmountContainer>\r\n                <Remove onClick={() => handleQuantity(\"desc\")} />\r\n                <Amount>{quantity}</Amount>\r\n                <Add onClick={() => handleQuantity(\"asc\")} />\r\n              </AmountContainer>\r\n              <Button onClick={addToCart}>ADD TO CART</Button>\r\n            </AddContainer>\r\n          </OptionContainer>\r\n        </InfoContainer>\r\n      </Wrapper>\r\n      <Newsletter />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","export const sliderItems = [\r\n    {\r\n        id: 1,\r\n        img: \"https://www.nawpic.com/media/2020/marvel-nawpic-2.jpg\",\r\n        title: \"HAPPY NEW YEAR!!!\",\r\n        desc: \"Super Sale 20% on all products.\",\r\n        bg: \"fcf1ed\",\r\n        type: 'Marvel',\r\n    },\r\n    {\r\n        id: 2,\r\n        // img: \"https://r4.wallpaperflare.com/wallpaper/246/490/440/batman-batman-begins-the-dark-knight-the-dark-knight-rises-wallpaper-79a0380de1fa3d6b9677585f909106ed.jpg\",\r\n        img: \"https://wallpaperaccess.com/full/328886.jpg\",\r\n        title: \"SUPER SALE\",\r\n        desc: \"Super Sale 50% on all products.\",\r\n        bg: \"fbf0f4\",\r\n        type: 'DC-Comics',\r\n    },\r\n    {\r\n        id: 3,\r\n        // img: \"https://cdn.wallpapersafari.com/7/67/NiBaT8.jpg\",\r\n        // img: \"https://wallpaperaccess.com/full/780969.jpg\",\r\n        img: \"https://wallpapercave.com/wp/wp2556881.jpg\",\r\n        title: \"HAPPY LUNAR NEW YEAR!!!\",\r\n        desc: \"Super Sale 30% on all products.\",\r\n        bg: \"f5fafd\",\r\n        type: 'Transformers',\r\n    },\r\n];\r\n\r\nexport const categories = [\r\n    {\r\n        id: 1,\r\n        img: \"https://wallpaperaccess.com/full/7146075.png\",\r\n        title: \"Marvel\",\r\n    },\r\n    {\r\n        id: 2,\r\n        img: \"https://comicvine.gamespot.com/a/uploads/scale_small/0/40/5213245-dc_logo_blue_final.jpg\",\r\n        title: \"DC-Comics\",\r\n    },\r\n    {\r\n        id: 3,\r\n        img: \"https://www.nicepng.com/png/detail/65-650934_transformers-autobots-and-decepticons-logo.png\",\r\n        title: \"Transformers\",\r\n    },\r\n];\r\n","import './category-item.css'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    flex: 1;\r\n    margin: 3px;\r\n    height: 70vh;\r\n    position: relative;\r\n`\r\nconst Image = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    ${mobile({height: '25vh'})}\r\n`\r\nconst Info = styled.div`\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Title = styled.h1`\r\n    color: black;\r\n    margin-bottom: 20px;\r\n`\r\nconst Button = styled.button`\r\n    border:none;\r\n    padding: 10px;\r\n    background-color: gray;\r\n    color: white;\r\n    cursor: pointer;\r\n    font-weight: 600;\r\n    transition: all 0.5s ease;\r\n    &:hover {\r\n      transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst CategoryItem = ({item}) => {\r\n    return (\r\n        <Container className=\"container\">\r\n            <Link to={`/products/${item.title}`}>\r\n            <Image src={item.img} className=\"img\"/>\r\n            <Info>\r\n                <Title>{item.title}</Title>\r\n                <Button>SHOP NOW</Button>\r\n            </Info>\r\n            </Link>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default CategoryItem\r\n","import styled from 'styled-components'\r\nimport {categories} from '../data'\r\nimport CategoryItem from './CategoryItem'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    display: flex;\r\n    padding: 20px;\r\n    justify-content: space-between;\r\n    ${mobile({ padding: '0px', flexDirection: 'column'})}\r\n`\r\n\r\nconst Categories = () => {\r\n    return (\r\n        <Container>\r\n            {categories.map((item) => (\r\n                <CategoryItem key={item.id} item={item}/>\r\n            ))}\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Categories\r\n","import { FavoriteBorderOutlined, SearchOutlined, ShoppingCartOutlined } from '@material-ui/icons'\r\nimport { useDispatch } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { addProduct } from '../redux/cartRedux'\r\nimport { mobile } from '../responsive'\r\n\r\nconst Info = styled.div`\r\n    opacity: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    top:0;\r\n    left:0;\r\n    background-color: rgba(0,0,0,0.1);\r\n    z-index: 3;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: all 0.5s ease;\r\n    cursor: pointer;\r\n`\r\n\r\nconst Container = styled.div`\r\n    flex: 1 ${(props) => props.page && '26%'};\r\n    margin: 5px;\r\n    min-width: 20%;\r\n    max-width: 360px;\r\n    height: 360px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background-color: #f5fbfd;\r\n    position: relative;\r\n    ${mobile({ minWidth: '100%' })}\r\n\r\n    &:hover ${Info}{\r\n        opacity: 1\r\n    }\r\n`\r\n\r\nconst Circle = styled.div`\r\n    width: 200px;\r\n    height: 200px;\r\n    border-radius: 50%;\r\n    background-color: white;\r\n    position: absolute;\r\n`\r\n\r\nconst Image = styled.img`\r\n    height: 80%;\r\n    width: 80%;\r\n    object-fit: cover;\r\n    z-index: 2;\r\n`\r\n\r\nconst Icon= styled.div`\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    background-color: white;\r\n    display:flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 10px;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        background-color: #e9f5f5;\r\n        transform: scale(1.1);\r\n    };\r\n`\r\n\r\nconst Product = ({item}) => {\r\n    const dispatch = useDispatch();\r\n    const currentPage = window.location.href.split('/')[3];\r\n    \r\n    const addToCart = ()=>{\r\n        const quantity = 1;\r\n        dispatch(addProduct({...item, quantity}))\r\n    }\r\n\r\n    return (\r\n        <Container page={currentPage}>\r\n            <Circle/>\r\n            <Image src={item.img[0]}/>\r\n            <Info>\r\n                <Icon onClick={addToCart}>\r\n                    <ShoppingCartOutlined/>\r\n                </Icon>\r\n                <Icon>\r\n                    <Link to={`/product/${item._id}`}>\r\n                    <SearchOutlined/>\r\n                    </Link>\r\n                </Icon>\r\n                <Icon>\r\n                    <FavoriteBorderOutlined/>\r\n                </Icon>\r\n            </Info>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Product\r\n","import { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Pagination from '@mui/material/Pagination';\r\nimport Product from './Product'\r\nimport {publicRequest} from '../requestMethods'\r\n\r\nconst Container = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    align-items: center;\r\n`\r\nconst PaginationContainer = styled.div`\r\n    margin-top: 15px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100vw;\r\n`\r\n\r\nconst Products = ({filters}) => {\r\n    const [products, setProducts] = useState([]);\r\n    const category = filters?.category;\r\n    const sort = filters?.sort;\r\n    const [page, setPage] = useState(1);\r\n    const currentPage = window.location.href.split('/')[3];\r\n    const rowPerPage =  currentPage ? 6 : 8;\r\n    const [totalPage, setTotalPage] = useState(1);\r\n\r\n    useEffect(()=> {\r\n        const getProducts = async () => {\r\n            try{\r\n                const res = (category && sort)\r\n                    ? await publicRequest.get(\r\n                        `/products?category=${category}&sort=${sort}`\r\n                    )\r\n                    : await publicRequest.get(\r\n                        '/products'\r\n                    )\r\n                setProducts(res.data)\r\n                setTotalPage(Math.ceil(res.data.length / rowPerPage))\r\n            } catch(err){\r\n                console.dir(err)\r\n            }\r\n        }\r\n        getProducts();\r\n    }, [category, sort, rowPerPage])\r\n\r\n    return (\r\n        <Container>\r\n            {products.slice((page-1)*rowPerPage, page * rowPerPage).map((item) => (\r\n                <Product key={item._id} item={item}/>\r\n            ))}\r\n            <PaginationContainer>\r\n                <Pagination\r\n                    page={page}\r\n                    count={totalPage}\r\n                    onChange={(e, value) => setPage(value)}\r\n                />\r\n            </PaginationContainer>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Products\r\n","import { ArrowLeftOutlined, ArrowRightOutlined } from \"@material-ui/icons\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport {sliderItems} from '../data'\r\nimport {mobile} from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    width: 100%;\r\n    height: 100vh;\r\n    display: flex;\r\n    position: relative;\r\n    overflow: hidden;\r\n    ${mobile({display: 'none'})}\r\n`;\r\n\r\nconst Arrow = styled.div`\r\n    width: 50px;\r\n    height: 50px;\r\n    background-color: #ffffff;\r\n    border-radius: 50%;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: ${(props) => props.direction === \"left\" && \"10px\"};\r\n    right: ${(props) => props.direction === \"right\" && \"10px\"};\r\n    margin: auto;\r\n    cursor: pointer;\r\n    opacity: 0.5;\r\n    z-index: 2;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n    height: 100%;\r\n    display: flex;\r\n    transition: all 1.0s ease;\r\n    transform: translateX(${props => props.slideIndex * -100}vw);\r\n`;\r\n\r\nconst Slide = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #${props => props.bg}\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n    height: 100%;\r\n    flex: 3;\r\n`;\r\n\r\nconst Image = styled.img`\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n`;\r\n\r\nconst InforContainer = styled.div`\r\n    flex: 1;\r\n    padding: 50px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n    font-size: 70px;\r\n`\r\nconst Desc = styled.p`\r\n    margin: 50px 0px;\r\n    font-size: 20px;\r\n    font-weight: 500;\r\n    letter-spacing: 2px;\r\n`\r\nconst Button = styled.button`\r\n    padding: 10px;\r\n    font-size: 20px;\r\n    background-color: transparent;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        opacity: 1.0;\r\n        transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst Slider = () => {\r\n    const [slideIndex, setSlideIndex] = useState(0)\r\n\r\n    const handleClick = (direction) => {\r\n        if(direction === 'left'){\r\n            setSlideIndex(slideIndex > 0 ? slideIndex-1 : 2)\r\n        } else {\r\n            setSlideIndex(slideIndex < 2 ? slideIndex+1 : 0)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        const interval = window.setInterval(()=>{\r\n            setSlideIndex(slideIndex < 2 ? slideIndex+1 : 0)\r\n        }, 5000)\r\n\r\n        return () => window.clearInterval(interval)\r\n    }, [slideIndex])\r\n\r\n    return (\r\n        <Container>\r\n            <Arrow direction=\"left\" onClick={() => handleClick(\"left\")}>\r\n                <ArrowLeftOutlined />\r\n            </Arrow>\r\n            <Wrapper slideIndex={slideIndex}>\r\n                {sliderItems.map(item => (\r\n                <Slide bg={item.bg} key={item.id}>\r\n                    <ImgContainer>\r\n                        <Image src={item.img} />\r\n                    </ImgContainer>\r\n                    <InforContainer>\r\n                        <Title>{item.title}</Title>\r\n                        <Desc>{item.desc}</Desc>\r\n                        <Link to={`/products/${item.type}`}>\r\n                            <Button>SHOW NOW</Button>\r\n                        </Link>\r\n                    </InforContainer>\r\n                </Slide>\r\n                ))}\r\n            </Wrapper>\r\n            <Arrow direction=\"right\" onClick={() => handleClick(\"right\")}>\r\n                <ArrowRightOutlined />\r\n            </Arrow>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Slider;\r\n","import { useEffect } from 'react'\r\nimport Announcement from '../components/Announcement'\r\nimport Categories from '../components/Categories'\r\nimport Footer from '../components/Footer'\r\nimport Navbar from '../components/Navbar'\r\nimport Newsletter from '../components/Newsletter'\r\nimport Products from '../components/Products'\r\nimport Slider from '../components/Slider'\r\n\r\n\r\nconst Home = () => {\r\n    useEffect(()=>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        }); \r\n    }, [])\r\n    \r\n    return (\r\n        <div>\r\n            <Navbar/>\r\n            <Announcement/>\r\n            <Slider/>\r\n            <Categories/>\r\n            <Products/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport Newsletter from \"../components/Newsletter\";\r\nimport Products from \"../components/Products\";\r\nimport { mobile } from \"../responsive\";\r\n\r\nconst Container = styled.div``;\r\nconst Title = styled.h1`\r\n    margin: 20px;\r\n`;\r\nconst FilterContainer = styled.div`\r\n    display: flex;\r\n    justify-content: space-between;\r\n`;\r\nconst Filter = styled.div`\r\n    margin: 20px;\r\n    ${mobile({ display: 'flex', flexDirection: 'column'})}\r\n`;\r\nconst FilterText = styled.span`\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    margin-right: 20px;\r\n    ${mobile({marginRight: '0px'})}\r\n`;\r\nconst Select = styled.select`\r\n    padding: 10px;\r\n    margin-right: 20px;\r\n    ${mobile({margin: '10px 0px'})}\r\n`\r\nconst Option = styled.option``\r\n\r\n\r\nconst ProductList = () => {\r\n    const location = useLocation();\r\n    const categoryPath = location.pathname.split('/')[2]\r\n    const selectRef = useRef();\r\n    \r\n    const [filters, setFilters] = useState({\r\n        category: categoryPath ? categoryPath : 'All Products',\r\n        sort: 'Newest',\r\n    });\r\n\r\n    //change url by category without redirect or reload page\r\n    if(filters.category){\r\n        let pathName = filters.category === 'All Products' ? '' : '/'+filters.category;\r\n        window.history.pushState(\"\", \"\", '/products'+pathName);\r\n    }\r\n    \r\n    useEffect(()=>{\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n        \r\n        const select = selectRef.current;\r\n        const options = select.options;\r\n        \r\n        for(let i=0;i<options.length;i++){\r\n\r\n            if(options[i].innerText === filters.category){\r\n                options.selectedIndex = i;\r\n                break;\r\n            }\r\n\r\n            if(i === options.length-1){\r\n                setFilters({\r\n                    ...filters,\r\n                    category: 'All Products'\r\n                })\r\n            }\r\n        }\r\n    }, [filters])\r\n    \r\n    const handleFilters = (e) => {\r\n            setFilters({\r\n                ...filters,\r\n                [e.target.name]: e.target.value\r\n            })\r\n    }\r\n    \r\n    return (\r\n        <Container>\r\n            <Navbar category={filters?.category}/>\r\n            <Announcement />\r\n            <Title>{filters.category}</Title>\r\n            <FilterContainer>\r\n                <Filter>\r\n                    <FilterText>Category:</FilterText>\r\n                    <Select \r\n                        name=\"category\" \r\n                        onChange={handleFilters}\r\n                        ref={selectRef}\r\n                    >\r\n                        <Option>All Products</Option>\r\n                        <Option>Transformers</Option>\r\n                        <Option>Marvel</Option>\r\n                        <Option>DC-Comics</Option>\r\n                    </Select>\r\n                    {/* <Select onChange={handleFilters}>\r\n                        <Option disabled defaultValue>Scale</Option>\r\n                        <Option>1:20</Option>\r\n                        <Option>1:30</Option>\r\n                        <Option>1:50</Option>\r\n                    </Select> */}\r\n                </Filter>\r\n                <Filter>\r\n                    <FilterText>Sort Products:</FilterText>\r\n                    <Select name=\"sort\" onChange={handleFilters}>\r\n                        <Option value=\"newest\" defaultValue>Newest</Option>\r\n                        <Option value=\"asc\">Price (asc)</Option>\r\n                        <Option value=\"desc\">Price (desc)</Option>\r\n                        {/* <Option value=\"bestseller\">Bestseller</Option>\r\n                        <Option value=\"toprated\">Top rated</Option> */}\r\n                    </Select>\r\n                </Filter>\r\n            </FilterContainer>\r\n            <Products filters={filters} />\r\n            <Newsletter />\r\n            <Footer />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default ProductList;\r\n","import { CloseRounded } from \"@material-ui/icons\";\r\nimport Box from \"@mui/material/Box\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { setAddressCart } from \"../redux/cartRedux\";\r\nimport \"./delivery-detail.css\";\r\n\r\nconst Button = styled.button`\r\n  margin-bottom: 8px;\r\n  padding: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n  background-color: #A50064;\r\n  color: white;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst DeliveryDetail = ({ displayDelivery, setDisplayDelivery, setAddress }) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const [errors, setErrors] = useState([false, false, false ,false])\r\n  const [addressObj, setAddressObj] = useState(null)\r\n\r\n  const disableDelivery = () => {\r\n    setDisplayDelivery(false);\r\n  };\r\n\r\n  const handleDeliveryDetail=(e)=>{\r\n    e.preventDefault();\r\n    const name = document.querySelector('#delivery-name').value;\r\n    const address = document.querySelector('#delivery-address').value;\r\n    const phone = document.querySelector('#delivery-phone').value;\r\n    const email = document.querySelector('#delivery-email').value;\r\n    const note = document.querySelector('#delivery-note').value;\r\n\r\n    const nameRegex = new RegExp(/^([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ]{2,})+\\s+([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ\\s]{2,})+$/i)\r\n    const addressRegex = new RegExp(/^([sSốỐ0-9a-zA-Z\\s]{1,7})+[\\s,.'-]+([aAàÀảẢãÃáÁạẠăĂằẰẳẲẵẴắẮặẶâÂầẦẩẨẫẪấẤậẬbBcCdDđĐeEèÈẻẺẽẼéÉẹẸêÊềỀểỂễỄếẾệỆfFgGhHiIìÌỉỈĩĨíÍịỊjJkKlLmMnNoOòÒỏỎõÕóÓọỌôÔồỒổỔỗỖốỐộỘơƠờỜởỞỡỠớỚợỢpPqQrRsStTuUùÙủỦũŨúÚụỤưƯừỪửỬữỮứỨựỰvVwWxXyYỳỲỷỶỹỸýÝỵỴzZ0-9\\s,.'-]{3,7}){5,}$/i)\r\n    const phoneRegex = new RegExp(/^[+\\s]?[(]?[0-9]{2,4}[)]?[-\\s.]?([0-9]{3}[-\\s.]?){1,2}[0-9]{3,6}$/im)\r\n    const emailRegex = new RegExp(/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/i)\r\n\r\n    setErrors([\r\n      !nameRegex.test(name),\r\n      !addressRegex.test(address),\r\n      !phoneRegex.test(phone),\r\n      !emailRegex.test(email)\r\n    ])\r\n    setAddressObj({name, address, phone, email, note})\r\n  }\r\n\r\n  useEffect(()=>{\r\n    // edit width of textarea\r\n    let input = document.querySelector('#delivery-name')\r\n    let textarea = document.querySelector('#delivery-address')\r\n    if(input && textarea && input.offsetWidth > 0){\r\n      textarea.style.width = (input.offsetWidth -24)+\"px\"\r\n    }\r\n\r\n    // set address for SelectPayment\r\n    if(!errors.includes(true) && addressObj){\r\n      setAddressCart(addressObj)\r\n      setAddress({\r\n        ...addressObj\r\n      })\r\n    }\r\n  }, [displayDelivery, errors, setAddress, addressObj])\r\n\r\n  return (\r\n    <div\r\n      className=\"delivery-container\"\r\n      style={{ display: displayDelivery ? \"block\" : \"none\" }}\r\n    >\r\n      <div className=\"paragraph\">\r\n        <p className=\"mb-0 fw-bold h4\">\r\n          <b>Select Payment Method</b>\r\n        </p>\r\n        <CloseRounded onClick={disableDelivery} />\r\n      </div>\r\n      <Box\r\n        component=\"form\"\r\n        sx={{\r\n          \"& .MuiTextField-root\": { m: 1 },\r\n        }}\r\n        noValidate\r\n        autoComplete=\"off\"\r\n      >\r\n        <TextField\r\n          required\r\n          id=\"delivery-name\"\r\n          label=\"Full Name\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.name}\r\n          color= {errors[0] ? 'error' : \"primary\"}\r\n          error = {errors[0]}\r\n          helperText={errors[0] ? \"Exp: Nguyễn Văn An, vũ hà\" : ''}\r\n        />\r\n        <TextField\r\n          required\r\n          id=\"delivery-address\"\r\n          label=\"Address\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.address}\r\n          color= {errors[1] ? 'error' : \"primary\"}\r\n          error = {errors[1]}\r\n          helperText={errors[1] ? \"Exp: 01, hàng trống, hoàn kiếm\" : ''}\r\n          multiline\r\n          maxRows={4}\r\n        />\r\n        <TextField\r\n          required\r\n          id=\"delivery-phone\"\r\n          label=\"Phone Number\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.phone}\r\n          color= {errors[2] ? 'error' : \"primary\"}\r\n          error = {errors[2]}\r\n          helperText={errors[2] ? \"Exp:0123456789, +84123456789\" : ''}\r\n        />\r\n        <TextField\r\n          id=\"delivery-email\"\r\n          label=\"Email address\"\r\n          type=\"mail\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.email}\r\n          color= {errors[3] ? 'error' : \"primary\"}\r\n          error = {errors[3]}\r\n          helperText={errors[3] ? \"Exp: a@a.aa, hung@gmail.com\" : ''}\r\n        />\r\n        <TextField\r\n          id=\"delivery-note\"\r\n          label=\"Note\"\r\n          variant=\"filled\"\r\n          defaultValue={cart?.address?.note}\r\n          color=\"success\"\r\n        />\r\n        <Button onClick={handleDeliveryDetail}>use momo wallet</Button>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DeliveryDetail;\r\n","import \"./select-payment.css\";\r\nimport { CloseRounded } from \"@material-ui/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport DeliveryDetail from \"./DeliveryDetail\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nconst KEY = process.env.REACT_APP_STRIPE;\r\n\r\nconst SelectPayment = (props) => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.user);\r\n  const setStripeToken = props.setStripeToken;\r\n  const navigate = useNavigate();\r\n  const [displayDelivery, setDisplayDelivery] = useState(false)\r\n  const [address, setAddress] = useState(null)\r\n  const [clickedPayment, setClickedPayment] = useState(null)\r\n\r\n  const useStripePayment = (token) => {\r\n    if (!user.currentUser?._id) {\r\n      window.alert(\"Please login before checkout, redirecting to login page\");\r\n      navigate(\"/login\");\r\n    }\r\n    if (cart.total <= 0){\r\n      window.alert(\"Your cart is empty, please buy some our products first\")\r\n    }\r\n    else {\r\n      setStripeToken(token);\r\n    }\r\n  };\r\n\r\n  const useMomoPayment = () => {\r\n    if (!user.currentUser?._id) {\r\n      window.alert(\"Please login before checkout, redirecting to login page\");\r\n      navigate(\"/login\");\r\n    }\r\n    if (cart.total <= 0){\r\n      window.alert(\"Your cart is empty, please buy some our products first\")\r\n    }\r\n    else{\r\n      setDisplayDelivery(true)\r\n      document.querySelector(\".payment-container\").style.display = \"none\";\r\n      setClickedPayment(true)\r\n    }\r\n  };\r\n\r\n  const disableCheckout = () => {\r\n    document.querySelector(\".payment-container\").style.display = \"none\";\r\n  };\r\n\r\n  useEffect(()=>{\r\n    if(address && clickedPayment){\r\n      const callMomoApi = async()=>{\r\n        try {\r\n          const res = await userRequest.post(\"/checkout/momo\", {\r\n            amount: cart.total + 20000,\r\n            address\r\n          });\r\n          window.location.href = JSON.parse(res.data).payUrl;\r\n        } catch (err) {\r\n          console.dir(err);\r\n          if(err.response.data === 'Token is not valid!'){\r\n            window.alert('You was not login or your login session was expired, redirecting to login page')\r\n            navigate('/login')\r\n          }\r\n          setClickedPayment(false);\r\n        }\r\n      }\r\n\r\n      callMomoApi();\r\n    }\r\n  }, [address, cart, navigate, user, clickedPayment])\r\n\r\n  return (\r\n    <>\r\n    <DeliveryDetail \r\n      displayDelivery={displayDelivery} \r\n      setDisplayDelivery={setDisplayDelivery}\r\n      setAddress={setAddress}  \r\n    />\r\n    <div className=\"payment-container\">\r\n      <div className=\"paragraph\">\r\n        <p className=\"mb-0 fw-bold h4\">\r\n          <b>Select Payment Method</b>\r\n        </p>\r\n        <CloseRounded onClick={disableCheckout} />\r\n      </div>\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4 mb-lg-0 mb-3\">\r\n          <div className=\"card p-3\">\r\n            <div className=\"img-box\">\r\n              <StripeCheckout\r\n                name=\"Figure shop\"\r\n                image=\"https://blog.logomyway.com/wp-content/uploads/2021/08/transformer-logo.jpg\"\r\n                billingAddress\r\n                shippingAddress\r\n                description={`Your total amount is ${cart.total + 20000} &#8363;`}\r\n                amount={cart.total + 20000}\r\n                token={useStripePayment}\r\n                stripeKey={KEY}\r\n                currency=\"VND\"\r\n              >\r\n                <button className=\"btn stripe\">\r\n                  <img\r\n                    src=\"https://logos-world.net/wp-content/uploads/2021/03/Stripe-Emblem-700x394.png\"\r\n                    alt=\"\"\r\n                  />\r\n                </button>\r\n              </StripeCheckout>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-4 mb-lg-0 mb-3\">\r\n          <div className=\"card p-3\">\r\n            <div className=\"img-box\">\r\n              <button onClick={useMomoPayment} className=\"btn momo\">\r\n                <img src=\"/img/momo_icon_square_pinkbg_RGB.png\" alt=\"\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SelectPayment;\r\n","import { Add, DeleteForeverOutlined, Remove } from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport Announcement from \"../components/Announcement\";\r\nimport Footer from \"../components/Footer\";\r\nimport Navbar from \"../components/Navbar\";\r\nimport { mobile } from \"../responsive\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport SelectPayment from \"../components/SelectPayment\";\r\nimport { addProduct, removeProduct } from \"../redux/cartRedux\";\r\n\r\nconst Container = styled.div``;\r\nconst Wrapper = styled.div`\r\n  padding: 20px;\r\n  ${mobile({ padding: \"10px\" })}\r\n`;\r\nconst Title = styled.h1`\r\n  font-weight: 300;\r\n  text-align: center;\r\n`;\r\nconst Top = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n`;\r\nconst TopButton = styled.button`\r\n  padding: 8px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  border: ${(props) => props.type === \"filled\" && \"none\"};\r\n  background-color: ${(props) =>\r\n    props.type === \"filled\" ? \"black\" : \"transparent\"};\r\n  color: ${(props) => props.type === \"filled\" && \"white\"};\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\nconst TopTexts = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  align-items: center;\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\nconst TopText = styled.span`\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n  margin: 0px 10px;\r\n  padding-bottom: 5px;\r\n`;\r\nconst Bottom = styled.div`\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  @media only screen and (max-width: 800px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst Info = styled.div`\r\n  flex: 3;\r\n`;\r\n\r\nconst Product = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  @media only screen and (max-width: 950px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\nconst ProductDetail = styled.div`\r\n  flex: 2;\r\n  display: flex;\r\n  max-height: 33vh;\r\n  justify-content: space-between;\r\n`;\r\nconst Image = styled.img`\r\n  width: 33.3%;\r\n  // height: 100%;\r\n  object-fit: cover;\r\n`;\r\nconst Details = styled.div`\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst DeleteContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n`\r\n\r\nconst DeleteButton = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  overflow: auto;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    cursor: pointer;      \r\n    transform: scale(1.1);\r\n  }\r\n  ${mobile({ display: \"none\" })}\r\n`;\r\n\r\nconst ProductName = styled.span``;\r\nconst ProductId = styled.span``;\r\nconst ProductType = styled.span``;\r\nconst ProductPrice = styled.span``;\r\n\r\nconst PriceDetail = styled.div`\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst ProductQuantityContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 15px 0px 10px 0px;\r\n`;\r\n\r\nconst DeleteButtonMobile = styled.div`\r\n  display: none;\r\n  align-items: center;\r\n  overflow: auto;\r\n  margin-right: 20px;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n      cursor: pointer;\r\n      transform: scale(1.1);\r\n  }\r\n  ${mobile({ display: \"flex\" })}\r\n`;\r\n\r\nconst ProductQuantity = styled.div`\r\n  font-size: 24px;\r\n  margin: 0px 10px;\r\n  ${mobile({ margin: \"5px 30px\" })}\r\n`;\r\nconst ProductAmount = styled.div`\r\n  font-size: 30px;\r\n  font-weight: 200;\r\n  margin-bottom: 10px;\r\n  ${mobile({ marginBottom: \"20px\" })}\r\n`;\r\n\r\nconst Hr = styled.hr`\r\n  background-color: #eee;\r\n  border: none;\r\n  height: 1px;\r\n  margin: 10px 0px;\r\n`;\r\nconst Summary = styled.div`\r\n  flex: 1;\r\n  border: 0.5px solid lightgray;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  height: 100%;\r\n  display: block;\r\n`;\r\nconst SummaryTitle = styled.h1`\r\n  font-weight: 200;\r\n  font-size: 35px;\r\n`;\r\nconst SummaryItem = styled.div`\r\n  margin: 20px 0px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-weight: ${(props) => props.type === \"total\" && \"500\"};\r\n  font-size: ${(props) => props.type === \"total\" && \"24px\"};\r\n`;\r\nconst SummaryItemText = styled.span`\r\n  flex: 3;\r\n`;\r\nconst SummaryItemPrice = styled.span`\r\n  flex: 2;\r\n`;\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 8px;\r\n  background-color: black;\r\n  color: white;\r\n  font-weight: 600;\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  transition: all 0.5s ease;\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n`;\r\n\r\nconst Cart = () => {\r\n  const cart = useSelector((state) => state.cart);\r\n  const user = useSelector((state) => state.user)\r\n  const [stripeToken, setStripeToken] = useState(null);\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const checkout = () => {\r\n    if(!user.currentUser?._id){\r\n        window.alert('Please login before checkout, redirecting to login page')\r\n        navigate('/login')\r\n    }\r\n    document.querySelector(\".payment-container\").style.display = \"block\";\r\n  };\r\n\r\n  const handleQuantity = (type, id) => {\r\n    const quantity = 1;\r\n    const product = cart.products.find((element) => element._id === id);\r\n    if (type === \"asc\") {\r\n      dispatch(addProduct({ ...product, quantity }));\r\n    }\r\n    if (type === \"desc\") {\r\n      dispatch(removeProduct({ ...product, quantity }));\r\n    }\r\n  };\r\n\r\n  const removeFromCart = (id) => {\r\n    const product = cart.products.find((element) => element._id === id);\r\n    const quantity = product.quantity;\r\n    if(window.confirm('Are you sure you want to remove this product'))\r\n        dispatch(removeProduct({ ...product, quantity }));\r\n  };\r\n\r\n  useEffect(() => {\r\n    const makeStripeRequest = async () => {\r\n      try {\r\n        const res = await userRequest.post(\"/checkout/stripe\", {\r\n          tokenId: stripeToken.id,\r\n          amount: cart.total + 20000,\r\n        });\r\n        \r\n        navigate(\"/success\", {\r\n          state: {\r\n            stripeData: res.data,\r\n            cart,\r\n          },\r\n        });\r\n      } catch (err) {\r\n        console.dir(err);\r\n      }\r\n    };\r\n\r\n    stripeToken && makeStripeRequest();\r\n  }, [stripeToken, cart, navigate]);\r\n\r\n  return (\r\n    <Container>\r\n      <Navbar />\r\n      <Announcement />\r\n      <Wrapper>\r\n        <Title>YOUR BAG</Title>\r\n        <Top>\r\n          <Link to=\"/\">\r\n            <TopButton>CONTINUE SHOPPING</TopButton>\r\n          </Link>\r\n          <TopTexts>\r\n            <TopText>Shopping Bag({cart.quantity})</TopText>\r\n            <TopText>Your Wishlist(0)</TopText>\r\n          </TopTexts>\r\n          <TopButton onClick={checkout} type=\"filled\">\r\n            CHECKOUT NOW\r\n          </TopButton>\r\n        </Top>\r\n        <Bottom>\r\n          <Info>\r\n            {cart.products.map((product) => (\r\n              <div key={product._id}>\r\n                <Product>\r\n                  <ProductDetail>\r\n                    <Image src={product.img} />\r\n                    <Details>\r\n                      <ProductName>\r\n                        <b>Product: </b>\r\n                        {product.title}\r\n                      </ProductName>\r\n                      <ProductId>\r\n                        <b>ID: </b>\r\n                        <p>{product._id}</p>\r\n                      </ProductId>\r\n                      <ProductType>\r\n                        <b>Type: </b>\r\n                        {product.category}\r\n                      </ProductType>\r\n                      <ProductPrice>\r\n                        <b>Price: </b> {product.price} &#8363;\r\n                      </ProductPrice>\r\n                    </Details>\r\n                    <DeleteContainer>\r\n                        <DeleteButton onClick={()=>removeFromCart(product._id)}>\r\n                            <DeleteForeverOutlined color=\"error\" />\r\n                        </DeleteButton>\r\n                    </DeleteContainer>\r\n                  </ProductDetail>\r\n                  <PriceDetail>\r\n                    <ProductQuantityContainer>\r\n                        <DeleteContainer>\r\n                            <DeleteButtonMobile onClick={()=>removeFromCart(product._id)}>\r\n                                <DeleteForeverOutlined color=\"error\" />\r\n                            </DeleteButtonMobile>\r\n                        </DeleteContainer>\r\n                      <Remove\r\n                        onClick={() => handleQuantity(\"desc\", product._id)}\r\n                      />\r\n                      <ProductQuantity>{product.quantity}</ProductQuantity>\r\n                      <Add onClick={() => handleQuantity(\"asc\", product._id)} />\r\n                    </ProductQuantityContainer>\r\n                    <ProductAmount>\r\n                      {product.price * product.quantity} &#8363;\r\n                    </ProductAmount>\r\n                  </PriceDetail>\r\n                </Product>\r\n                <Hr />\r\n              </div>\r\n            ))}\r\n          </Info>\r\n          <Summary>\r\n            <SummaryTitle>ORDER SUMMARY</SummaryTitle>\r\n            <SummaryItem>\r\n              <SummaryItemText>Subtotal</SummaryItemText>\r\n              <SummaryItemPrice>{cart.total} &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <SummaryItem>\r\n              <SummaryItemText>Estimated Shipping</SummaryItemText>\r\n              <SummaryItemPrice>20000 &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            {/* <SummaryItem>\r\n              <SummaryItemText>Shipping Discount</SummaryItemText>\r\n              <SummaryItemPrice>-20000 &#8363;</SummaryItemPrice>\r\n            </SummaryItem> */}\r\n            <SummaryItem type=\"total\">\r\n              <SummaryItemText>Total</SummaryItemText>\r\n              <SummaryItemPrice>{cart.total + 20000} &#8363;</SummaryItemPrice>\r\n            </SummaryItem>\r\n            <Button onClick={checkout}>CHECKOUT NOW</Button>\r\n          </Summary>\r\n        </Bottom>\r\n      </Wrapper>\r\n      <SelectPayment setStripeToken={setStripeToken} />\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import { loginFailure, loginStart, loginSuccess } from \"./userRedux\";\r\nimport { publicRequest } from \"../requestMethods\";\r\n\r\nexport const login = async (dispatch, user) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await publicRequest.post(\"/auth/login\", user);\r\n    dispatch(loginSuccess(res.data));\r\n  } catch (err) {\r\n    dispatch(loginFailure());\r\n  }\r\n};","import { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { login } from '../redux/apiCalls'\r\nimport { mobile } from '../responsive'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.5), \r\n    rgba(255, 255, 255 ,0.5)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Wrapper = styled.div`\r\n    width: 30%;\r\n    padding: 20px;\r\n    ${mobile({width: '75%'})}\r\n`\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    font-size: 24px;\r\n`\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-direction: column;\r\n`\r\nconst Input = styled.input`\r\n    flex: 1;\r\n    min-width: 40%;\r\n    margin: 10px 0px;\r\n    padding: 10px;\r\n`\r\nconst Button = styled.button`\r\n    width: 50%;\r\n    border: none;\r\n    padding: 15px 20px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        transform: scale(1.1);\r\n    }\r\n    margin-bottom: 5px;\r\n    &:disabled{\r\n        color: green;\r\n        cursor: not-allowed;\r\n    }\r\n`\r\nconst Link = styled.a`\r\n    margin: 5px 0px;\r\n    font-size: 12px;\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n`\r\nconst Error = styled.span`\r\n    color: red;\r\n`\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const dispatch = useDispatch();\r\n    const {isFetching, error} = useSelector((state) => state.user)\r\n    const navigate = useNavigate()\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n        login(dispatch, {username, password})\r\n        navigate(-1)\r\n    }\r\n    return (\r\n        <Container>\r\n            <Wrapper>\r\n                <Title>SIGN IN</Title>\r\n                <Form>\r\n                    <Input \r\n                        placeholder=\"username\" \r\n                        onChange={\r\n                            (e) => setUsername(e.target.value)\r\n                        }\r\n                    />\r\n                    <Input \r\n                        placeholder=\"password\" \r\n                        onChange={\r\n                            (e) => setPassword(e.target.value)\r\n                        }\r\n                        type=\"password\"\r\n                    />\r\n                    <Button \r\n                        onClick={handleLogin}\r\n                        disabled={isFetching}\r\n                    >LOGIN</Button>\r\n                    {error && <Error>Somethings went wrong...</Error>}\r\n                    <Link>DO NOT YOU REMEMBER THE PASSWORD?</Link>\r\n                    <Link>CREATE A NEW ACCOUNT</Link>\r\n                </Form>\r\n            </Wrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import styled from 'styled-components'\r\nimport { mobile } from '../responsive'\r\n\r\nconst Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    background: linear-gradient(\r\n    rgba(255, 255, 255, 0.5), \r\n    rgba(255, 255, 255 ,0.5)\r\n    ),\r\n    url(\"https://images2.alphacoders.com/424/thumb-1920-42470.jpg\") \r\n    center;\r\n    background-size: cover;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`\r\nconst Wrapper = styled.div`\r\n    width: 40%;\r\n    padding: 20px;\r\n    ${mobile({width: '75%'})}\r\n`\r\nconst Title = styled.h1`\r\n    font-weight: 300;\r\n    font-size: 24px;\r\n`\r\nconst Form = styled.form`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n`\r\nconst Input = styled.input`\r\n    flex: 1;\r\n    min-width: 40%;\r\n    margin: 20px 10px 0px 0px;\r\n    padding: 10px;\r\n`\r\nconst Agreement = styled.span`\r\n        font-size: 12px;\r\n        margin: 20px 0px;\r\n`\r\nconst Button = styled.button`\r\n    width: 40%;\r\n    border: none;\r\n    padding: 15px 20px;\r\n    background-color: teal;\r\n    color: white;\r\n    cursor: pointer;\r\n    transition: all 0.5s ease;\r\n    &:hover{\r\n        transform: scale(1.1);\r\n    }\r\n`\r\n\r\nconst Register = () => {\r\n    return (\r\n        <Container>\r\n            <Wrapper>\r\n                <Title>CREATE AN ACCOUNT</Title>\r\n                <Form>\r\n                    <Input placeholder=\"name\"/>\r\n                    <Input placeholder=\"last name\"/>\r\n                    <Input placeholder=\"username\"/>\r\n                    <Input placeholder=\"email\"/>\r\n                    <Input placeholder=\"password\"/>\r\n                    <Input placeholder=\"confirm password\"/>\r\n                    <Agreement>\r\n                        By creating an account, I consent to the processing\r\n                        of my personal data in accordance with the <b>PRIVACY POLICY</b>\r\n                    </Agreement>\r\n                    <Button>CREATE</Button>\r\n                </Form>\r\n            </Wrapper>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { userRequest } from \"../requestMethods\";\r\nimport {useDispatch} from 'react-redux'\r\nimport {removeCart} from '../redux/cartRedux'\r\n\r\nconst Success = () => {\r\n\r\n  const dispatch = useDispatch();\r\n  const location = useLocation();\r\n  const data = location.state?.stripeData;\r\n  const cart = location.state?.cart\r\n  const currentUser = useSelector((state) => state.user.currentUser);\r\n  const [orderId, setOrderId] = useState(null);\r\n\r\n  // create order, remove cart after creating order\r\n  useEffect(() => {\r\n    const createOrder = async () => {\r\n      try {\r\n        const res = await userRequest.post(\"/orders\", {\r\n          userId: currentUser._id,\r\n          products: cart.products.map((item) => ({\r\n            productId: item._id,\r\n            quantity: item.quantity,\r\n          })),\r\n          amount: cart.total +20000,\r\n          address: data.billing_details.address,\r\n        });\r\n        \r\n        setOrderId(res.data._id);\r\n        dispatch(removeCart())\r\n\r\n        // delete location state if user reload page\r\n        window.history.replaceState({}, '');\r\n      } catch(err) {\r\n        console.dir(err)\r\n      }\r\n    };\r\n    data && cart && createOrder();\r\n  }, [cart, data, currentUser, dispatch]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"100vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <p>{orderId\r\n        ? `Order has been created successfully. Your order number is ${orderId}`\r\n        : `Successful. Your order is being prepared...`}</p>\r\n      <Link to='/'>\r\n      <button style={{ padding: 10, marginTop: 20 }}>Go to Homepage</button>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Success;","import React from 'react';\r\nimport Announcement from '../components/Announcement';\r\nimport Footer from '../components/Footer';\r\nimport Navbar from '../components/Navbar';\r\nimport Newsletter from '../components/Newsletter';\r\n\r\nconst Account = () => {\r\n  return (\r\n    <>\r\n    <Navbar/>\r\n    <Announcement/>\r\n    <Newsletter/>\r\n    <Footer/>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Account;\r\n","import Product from \"./pages/Product\";\r\nimport Home from \"./pages/Home\";\r\nimport ProductList from \"./pages/ProductList\";\r\nimport Cart from \"./pages/Cart\";\r\nimport Login from \"./pages/Login\";\r\nimport Register from \"./pages/Register\";\r\nimport Success from \"./pages/Success\";\r\nimport Momo from \"./pages/MomoResult\";\r\nimport { useSelector} from 'react-redux'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Routes as Switch,\r\n  Route,\r\n  Navigate\r\n} from \"react-router-dom\";\r\nimport './App.css'\r\nimport Account from \"./pages/Account\";\r\n\r\n\r\nconst App = () => {\r\n  const user = useSelector((state) => state.user.currentUser);\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\" element={<Home/>}/>\r\n        <Route exact path=\"/products\" element={<ProductList/>}/>\r\n        <Route exact path=\"/products/:category\" element={<ProductList/>}/>\r\n        <Route exact path=\"/product/:id\" element={<Product/>}/>\r\n        <Route exact path=\"/login\" element={\r\n          user ? <Navigate to=\"/\" /> : <Login/>\r\n        }/>\r\n        <Route exact path=\"/register\" element={\r\n          user ? <Navigate to=\"/\" /> : <Register/>\r\n        }/>\r\n        <Route exact path=\"/logout\" element={<Home/>}/>\r\n        <Route exact path=\"/cart\" element={<Cart/>}/>\r\n        <Route exact path=\"/account\" element={<Account/>}/>\r\n        <Route exact path=\"/success\" element={<Success/>}/>\r\n        <Route exact path=\"/resultMomo\" element={<Momo/>}/>\r\n        <Route path=\"*\" element={<Navigate to='/'/>}/>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n};\r\n\r\nexport default App;","import { configureStore, combineReducers } from \"@reduxjs/toolkit\";\r\nimport cartReducer from \"./cartRedux\";\r\nimport userReducer from \"./userRedux\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nconst persistConfig = {\r\n    key: \"root\",\r\n    version: 1,\r\n    storage,\r\n  };\r\n  \r\nconst rootReducer = combineReducers({ user: userReducer, cart: cartReducer });\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n    reducer: persistedReducer,\r\n\r\n    middleware: (getDefaultMiddleware) =>\r\n      getDefaultMiddleware({\r\n        serializableCheck: {\r\n          ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n        },\r\n      }),\r\n})\r\n\r\nexport let persistor = persistStore(store);","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport {Provider} from 'react-redux'\r\nimport {store, persistor} from './redux/store'\r\nimport {PersistGate} from 'redux-persist/integration/react'\r\n\r\nReactDOM.render(\r\n  //redux\r\n  <Provider store = {store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst cartSlice = createSlice({\r\n    name:'cart',\r\n    initialState: {\r\n        products: [],\r\n        quantity: 0,\r\n        total: 0,\r\n        address: {}\r\n    },\r\n    reducers: {\r\n        addProduct: (state, action)=>{\r\n            const found = state.products.find(\r\n                element => element._id === action.payload._id\r\n            )\r\n            if(found){\r\n                found.quantity += action.payload.quantity\r\n            }\r\n            else{\r\n                state.products.push(action.payload)\r\n            }\r\n            state.quantity += action.payload.quantity;\r\n            state.total += action.payload.price * action.payload.quantity;\r\n        },\r\n\r\n        removeProduct: (state, action)=> {\r\n            const found = state.products.find(\r\n                element => element._id === action.payload._id\r\n            )\r\n            if(found){\r\n                found.quantity -= action.payload.quantity\r\n                if(found.quantity <= 0){\r\n                    state.products.splice(state.products.indexOf(found), 1);\r\n                }\r\n                state.quantity -= action.payload.quantity;\r\n                state.total -= action.payload.price * action.payload.quantity;            \r\n            }\r\n        },\r\n\r\n        removeCart: (state, action) => {\r\n            state.products = [];\r\n            state.quantity = 0;\r\n            state.total = 0;\r\n            state.address = {};\r\n        },\r\n\r\n        setAddressCart: (state, action) =>{\r\n            state.address = action.payload.address;\r\n        }\r\n    }\r\n})\r\n\r\nexport const {addProduct, removeCart, removeProduct, setAddressCart} = cartSlice.actions\r\nexport default cartSlice.reducer;"],"sourceRoot":""}